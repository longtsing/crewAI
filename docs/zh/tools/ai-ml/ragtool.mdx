---
title: RAG å·¥å…·
description: `RagTool` æ˜¯ä¸€ä¸ªåŠ¨æ€çŸ¥è¯†åº“å·¥å…·ï¼Œç”¨äºä½¿ç”¨æ£€ç´¢å¢å¼ºç”Ÿæˆå›ç­”é—®é¢˜ã€‚
icon: vector-square
mode: "wide"
---

# `RagTool`

## æè¿°

`RagTool` æ—¨åœ¨é€šè¿‡ CrewAI åŸç”Ÿ RAG ç³»ç»Ÿçš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰åŠ›é‡æ¥å›ç­”é—®é¢˜ã€‚
å®ƒæä¾›ä¸€ä¸ªå¯ä»¥æŸ¥è¯¢ä»¥ä»å„ç§æ•°æ®æºæ£€ç´¢ç›¸å…³ä¿¡æ¯çš„åŠ¨æ€çŸ¥è¯†åº“ã€‚
è¿™ä¸ªå·¥å…·å¯¹äºéœ€è¦è®¿é—®å¤§é‡ä¿¡æ¯å¹¶éœ€è¦æä¾›ä¸Šä¸‹æ–‡ç›¸å…³ç­”æ¡ˆçš„åº”ç”¨ç¨‹åºç‰¹åˆ«æœ‰ç”¨ã€‚

## ç¤ºä¾‹

ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•åˆå§‹åŒ–å·¥å…·å¹¶å°†å…¶ç”¨äºä¸åŒçš„æ•°æ®æºï¼š

```python ä»£ç 
from crewai_tools import RagTool

# ä½¿ç”¨é»˜è®¤è®¾ç½®åˆ›å»º RAG å·¥å…·
rag_tool = RagTool()

# ä»æ–‡ä»¶æ·»åŠ å†…å®¹
rag_tool.add(data_type="file", path="path/to/your/document.pdf")

# ä»ç½‘é¡µæ·»åŠ å†…å®¹
rag_tool.add(data_type="web_page", url="https://example.com")

# å®šä¹‰å¸¦æœ‰ RagTool çš„æ™ºèƒ½ä½“
@agent
def knowledge_expert(self) -> Agent:
    '''
    æ­¤æ™ºèƒ½ä½“ä½¿ç”¨ RagTool å›ç­”æœ‰å…³çŸ¥è¯†åº“çš„é—®é¢˜ã€‚
    '''
    return Agent(
        config=self.agents_config["knowledge_expert"],
        allow_delegation=False,
        tools=[rag_tool]
    )
```

## æ”¯æŒçš„æ•°æ®æº

`RagTool` å¯ç”¨äºå¤šç§æ•°æ®æºï¼ŒåŒ…æ‹¬ï¼š

- ğŸ“° PDF æ–‡ä»¶
- ğŸ“Š CSV æ–‡ä»¶
- ğŸ“ƒ JSON æ–‡ä»¶
- ğŸ“ æ–‡æœ¬æ–‡ä»¶
- ğŸ“ ç›®å½•/æ–‡ä»¶å¤¹
- ğŸŒ HTML ç½‘é¡µ
- ğŸ“½ï¸ YouTube é¢‘é“
- ğŸ“º YouTube è§†é¢‘
- ğŸ“š æ–‡æ¡£ç½‘ç«™
- ğŸ“ MDX æ–‡ä»¶
- ğŸ“„ DOCX æ–‡ä»¶
- ğŸ§¾ XML æ–‡ä»¶
- ğŸ“¬ Gmail
- ğŸ“ GitHub ä»“åº“
- ğŸ˜ PostgreSQL æ•°æ®åº“
- ğŸ¬ MySQL æ•°æ®åº“
- ğŸ¤– Slack å¯¹è¯
- ğŸ’¬ Discord æ¶ˆæ¯
- ğŸ—¨ï¸ Discourse è®ºå›
- ğŸ“ Substack æ–°é—»é€šè®¯
- ğŸ Beehiiv å†…å®¹
- ğŸ’¾ Dropbox æ–‡ä»¶
- ğŸ–¼ï¸ å›¾åƒ
- âš™ï¸ è‡ªå®šä¹‰æ•°æ®æº

## å‚æ•°

`RagTool` æ¥å—ä»¥ä¸‹å‚æ•°ï¼š

- **summarize**ï¼šå¯é€‰ã€‚æ˜¯å¦æ‘˜è¦æ£€ç´¢åˆ°çš„å†…å®¹ã€‚é»˜è®¤ä¸º `False`ã€‚
- **adapter**ï¼šå¯é€‰ã€‚çŸ¥è¯†åº“çš„è‡ªå®šä¹‰é€‚é…å™¨ã€‚å¦‚æœæœªæä¾›ï¼Œå°†ä½¿ç”¨ CrewAIRagAdapterã€‚
- **config**ï¼šå¯é€‰ã€‚åº•å±‚ CrewAI RAG ç³»ç»Ÿçš„é…ç½®ã€‚æ¥å—å¸¦æœ‰å¯é€‰ `embedding_model` (ProviderSpec) å’Œ `vectordb` (VectorDbConfig) é”®çš„ `RagToolConfig` TypedDictã€‚æ‰€æœ‰ä»¥ç¼–ç¨‹æ–¹å¼æä¾›çš„é…ç½®å€¼ä¼˜å…ˆäºç¯å¢ƒå˜é‡ã€‚

## æ·»åŠ å†…å®¹

ä½ å¯ä»¥ä½¿ç”¨ `add` æ–¹æ³•å‘çŸ¥è¯†åº“æ·»åŠ å†…å®¹ï¼š

```python ä»£ç 
# æ·»åŠ  PDF æ–‡ä»¶
rag_tool.add(data_type="file", path="path/to/your/document.pdf")

# æ·»åŠ ç½‘é¡µ
rag_tool.add(data_type="web_page", url="https://example.com")

# æ·»åŠ  YouTube è§†é¢‘
rag_tool.add(data_type="youtube_video", url="https://www.youtube.com/watch?v=VIDEO_ID")

# æ·»åŠ æ–‡ä»¶ç›®å½•
rag_tool.add(data_type="directory", path="path/to/your/directory")
```

## æ™ºèƒ½ä½“é›†æˆç¤ºä¾‹

è¿™é‡Œæ˜¯å¦‚ä½•å°† `RagTool` ä¸ CrewAI æ™ºèƒ½ä½“é›†æˆï¼š

```python ä»£ç 
from crewai import Agent
from crewai.project import agent
from crewai_tools import RagTool

# åˆå§‹åŒ–å·¥å…·å¹¶æ·»åŠ å†…å®¹
rag_tool = RagTool()
rag_tool.add(data_type="web_page", url="https://docs.crewai.com")
rag_tool.add(data_type="file", path="company_data.pdf")

# å®šä¹‰å¸¦æœ‰ RagTool çš„æ™ºèƒ½ä½“
@agent
def knowledge_expert(self) -> Agent:
    return Agent(
        config=self.agents_config["knowledge_expert"],
        allow_delegation=False,
        tools=[rag_tool]
    )
```

## é«˜çº§é…ç½®

ä½ å¯ä»¥é€šè¿‡æä¾›é…ç½®å­—å…¸æ¥è‡ªå®šä¹‰ `RagTool` çš„è¡Œä¸ºï¼š

```python ä»£ç 
from crewai_tools import RagTool
from crewai_tools.tools.rag import RagToolConfig, VectorDbConfig, ProviderSpec

# åˆ›å»ºå¸¦æœ‰è‡ªå®šä¹‰é…ç½®çš„ RAG å·¥å…·

vectordb: VectorDbConfig = {
    "provider": "qdrant",
    "config": {
        "collection_name": "my-collection"
    }
}

embedding_model: ProviderSpec = {
    "provider": "openai",
    "config": {
        "model_name": "text-embedding-3-small"
    }
}

config: RagToolConfig = {
    "vectordb": vectordb,
    "embedding_model": embedding_model
}

rag_tool = RagTool(config=config, summarize=True)
```

## åµŒå…¥æ¨¡å‹é…ç½®

`embedding_model` å‚æ•°æ¥å—å…·æœ‰ä»¥ä¸‹ç»“æ„çš„ `crewai.rag.embeddings.types.ProviderSpec` å­—å…¸ï¼š

```python
{
    "provider": "provider-name",  # å¿…éœ€
    "config": {                    # å¯é€‰
        # æä¾›å•†ç‰¹å®šé…ç½®
    }
}
```

### æ”¯æŒçš„æä¾›å•†

<AccordionGroup>
  <Accordion title="OpenAI">
    ```python main.py
    from crewai.rag.embeddings.providers.openai.types import OpenAIProviderSpec

    embedding_model: OpenAIProviderSpec = {
        "provider": "openai",
        "config": {
            "api_key": "your-api-key",
            "model_name": "text-embedding-ada-002",
            "dimensions": 1536,
            "organization_id": "your-org-id",
            "api_base": "https://api.openai.com/v1",
            "api_version": "v1",
            "default_headers": {"Custom-Header": "value"}
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `api_key` (str)ï¼šOpenAI API å¯†é’¥
    - `model_name` (str)ï¼šè¦ä½¿ç”¨çš„æ¨¡å‹ã€‚é»˜è®¤ï¼š`text-embedding-ada-002`ã€‚é€‰é¡¹ï¼š`text-embedding-3-small`ã€`text-embedding-3-large`ã€`text-embedding-ada-002`
    - `dimensions` (int)ï¼šåµŒå…¥çš„ç»´åº¦æ•°
    - `organization_id` (str)ï¼šOpenAI ç»„ç»‡ ID
    - `api_base` (str)ï¼šè‡ªå®šä¹‰ API åŸºæœ¬ URL
    - `api_version` (str)ï¼šAPI ç‰ˆæœ¬
    - `default_headers` (dict)ï¼šAPI è¯·æ±‚çš„è‡ªå®šä¹‰æ ‡å¤´

    **ç¯å¢ƒå˜é‡ï¼š**
    - `OPENAI_API_KEY` æˆ– `EMBEDDINGS_OPENAI_API_KEY`ï¼š`api_key`
    - `OPENAI_ORGANIZATION_ID` æˆ– `EMBEDDINGS_OPENAI_ORGANIZATION_ID`ï¼š`organization_id`
    - `OPENAI_MODEL_NAME` æˆ– `EMBEDDINGS_OPENAI_MODEL_NAME`ï¼š`model_name`
    - `OPENAI_API_BASE` æˆ– `EMBEDDINGS_OPENAI_API_BASE`ï¼š`api_base`
    - `OPENAI_API_VERSION` æˆ– `EMBEDDINGS_OPENAI_API_VERSION`ï¼š`api_version`
    - `OPENAI_DIMENSIONS` æˆ– `EMBEDDINGS_OPENAI_DIMENSIONS`ï¼š`dimensions`
  </Accordion>

  <Accordion title="Cohere">
    ```python main.py
    from crewai.rag.embeddings.providers.cohere.types import CohereProviderSpec

    embedding_model: CohereProviderSpec = {
        "provider": "cohere",
        "config": {
            "api_key": "your-api-key",
            "model_name": "embed-english-v3.0"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `api_key` (str)ï¼šCohere API å¯†é’¥
    - `model_name` (str)ï¼šè¦ä½¿ç”¨çš„æ¨¡å‹ã€‚é»˜è®¤ï¼š`large`ã€‚é€‰é¡¹ï¼š`embed-english-v3.0`ã€`embed-multilingual-v3.0`ã€`large`ã€`small`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `COHERE_API_KEY` æˆ– `EMBEDDINGS_COHERE_API_KEY`ï¼š`api_key`
    - `EMBEDDINGS_COHERE_MODEL_NAME`ï¼š`model_name`
  </Accordion>

  <Accordion title="VoyageAI">
    ```python main.py
    from crewai.rag.embeddings.providers.voyageai.types import VoyageAIProviderSpec

    embedding_model: VoyageAIProviderSpec = {
        "provider": "voyageai",
        "config": {
            "api_key": "your-api-key",
            "model": "voyage-3",
            "input_type": "document",
            "truncation": True,
            "output_dtype": "float32",
            "output_dimension": 1024,
            "max_retries": 3,
            "timeout": 60.0
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `api_key` (str)ï¼šVoyageAI API å¯†é’¥
    - `model` (str)ï¼šè¦ä½¿ç”¨çš„æ¨¡å‹ã€‚é»˜è®¤ï¼š`voyage-2`ã€‚é€‰é¡¹ï¼š`voyage-3`ã€`voyage-3-lite`ã€`voyage-code-3`ã€`voyage-large-2`
    - `input_type` (str)ï¼šè¾“å…¥ç±»å‹ã€‚é€‰é¡¹ï¼š`document`ï¼ˆç”¨äºå­˜å‚¨ï¼‰ã€`query`ï¼ˆç”¨äºæœç´¢ï¼‰
    - `truncation` (bool)ï¼šæ˜¯å¦æˆªæ–­è¶…è¿‡æœ€å¤§é•¿åº¦çš„è¾“å…¥ã€‚é»˜è®¤ï¼š`True`
    - `output_dtype` (str)ï¼šè¾“å‡ºæ•°æ®ç±»å‹
    - `output_dimension` (int)ï¼šè¾“å‡ºåµŒå…¥çš„ç»´åº¦
    - `max_retries` (int)ï¼šæœ€å¤§é‡è¯•æ¬¡æ•°ã€‚é»˜è®¤ï¼š`0`
    - `timeout` (float)ï¼šè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

    **ç¯å¢ƒå˜é‡ï¼š**
    - `VOYAGEAI_API_KEY` æˆ– `EMBEDDINGS_VOYAGEAI_API_KEY`ï¼š`api_key`
    - `VOYAGEAI_MODEL` æˆ– `EMBEDDINGS_VOYAGEAI_MODEL`ï¼š`model`
    - `VOYAGEAI_INPUT_TYPE` æˆ– `EMBEDDINGS_VOYAGEAI_INPUT_TYPE`ï¼š`input_type`
    - `VOYAGEAI_TRUNCATION` æˆ– `EMBEDDINGS_VOYAGEAI_TRUNCATION`ï¼š`truncation`
    - `VOYAGEAI_OUTPUT_DTYPE` æˆ– `EMBEDDINGS_VOYAGEAI_OUTPUT_DTYPE`ï¼š`output_dtype`
    - `VOYAGEAI_OUTPUT_DIMENSION` æˆ– `EMBEDDINGS_VOYAGEAI_OUTPUT_DIMENSION`ï¼š`output_dimension`
    - `VOYAGEAI_MAX_RETRIES` æˆ– `EMBEDDINGS_VOYAGEAI_MAX_RETRIES`ï¼š`max_retries`
    - `VOYAGEAI_TIMEOUT` æˆ– `EMBEDDINGS_VOYAGEAI_TIMEOUT`ï¼š`timeout`
  </Accordion>

  <Accordion title="Ollama">
    ```python main.py
    from crewai.rag.embeddings.providers.ollama.types import OllamaProviderSpec

    embedding_model: OllamaProviderSpec = {
        "provider": "ollama",
        "config": {
            "model_name": "llama2",
            "url": "http://localhost:11434/api/embeddings"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_name` (str)ï¼šOllama æ¨¡å‹åç§°ï¼ˆä¾‹å¦‚ï¼Œ`llama2`ã€`mistral`ã€`nomic-embed-text`ï¼‰
    - `url` (str)ï¼šOllama API ç«¯ç‚¹ URLã€‚é»˜è®¤ï¼š`http://localhost:11434/api/embeddings`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `OLLAMA_MODEL` æˆ– `EMBEDDINGS_OLLAMA_MODEL`ï¼š`model_name`
    - `OLLAMA_URL` æˆ– `EMBEDDINGS_OLLAMA_URL`ï¼š`url`
  </Accordion>

  <Accordion title="Amazon Bedrock">
    ```python main.py
    from crewai.rag.embeddings.providers.aws.types import BedrockProviderSpec

    embedding_model: BedrockProviderSpec = {
        "provider": "amazon-bedrock",
        "config": {
            "model_name": "amazon.titan-embed-text-v2:0",
            "session": boto3_session
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_name` (str)ï¼šBedrock æ¨¡å‹ IDã€‚é»˜è®¤ï¼š`amazon.titan-embed-text-v1`ã€‚é€‰é¡¹ï¼š`amazon.titan-embed-text-v1`ã€`amazon.titan-embed-text-v2:0`ã€`cohere.embed-english-v3`ã€`cohere.embed-multilingual-v3`
    - `session` (Any)ï¼šç”¨äº AWS èº«ä»½éªŒè¯çš„ Boto3 ä¼šè¯å¯¹è±¡

    **ç¯å¢ƒå˜é‡ï¼š**
    - `AWS_ACCESS_KEY_ID`ï¼šAWS è®¿é—®å¯†é’¥
    - `AWS_SECRET_ACCESS_KEY`ï¼šAWS ç§˜å¯†è®¿é—®å¯†é’¥
    - `AWS_REGION`ï¼šAWS åŒºåŸŸï¼ˆä¾‹å¦‚ï¼Œ`us-east-1`ï¼‰
  </Accordion>

  <Accordion title="Azure OpenAI">
    ```python main.py
    from crewai.rag.embeddings.providers.microsoft.types import AzureProviderSpec

    embedding_model: AzureProviderSpec = {
        "provider": "azure",
        "config": {
            "deployment_id": "your-deployment-id",
            "api_key": "your-api-key",
            "api_base": "https://your-resource.openai.azure.com",
            "api_version": "2024-02-01",
            "model_name": "text-embedding-ada-002",
            "api_type": "azure"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `deployment_id` (str)ï¼š**å¿…éœ€** - Azure OpenAI éƒ¨ç½² ID
    - `api_key` (str)ï¼šAzure OpenAI API å¯†é’¥
    - `api_base` (str)ï¼šAzure OpenAI èµ„æºç«¯ç‚¹
    - `api_version` (str)ï¼šAPI ç‰ˆæœ¬ã€‚ç¤ºä¾‹ï¼š`2024-02-01`
    - `model_name` (str)ï¼šæ¨¡å‹åç§°ã€‚é»˜è®¤ï¼š`text-embedding-ada-002`
    - `api_type` (str)ï¼šAPI ç±»å‹ã€‚é»˜è®¤ï¼š`azure`
    - `dimensions` (int)ï¼šè¾“å‡ºç»´åº¦
    - `default_headers` (dict)ï¼šè‡ªå®šä¹‰æ ‡å¤´

    **ç¯å¢ƒå˜é‡ï¼š**
    - `AZURE_OPENAI_API_KEY` æˆ– `EMBEDDINGS_AZURE_API_KEY`ï¼š`api_key`
    - `AZURE_OPENAI_ENDPOINT` æˆ– `EMBEDDINGS_AZURE_API_BASE`ï¼š`api_base`
    - `EMBEDDINGS_AZURE_DEPLOYMENT_ID`ï¼š`deployment_id`
    - `EMBEDDINGS_AZURE_API_VERSION`ï¼š`api_version`
    - `EMBEDDINGS_AZURE_MODEL_NAME`ï¼š`model_name`
    - `EMBEDDINGS_AZURE_API_TYPE`ï¼š`api_type`
    - `EMBEDDINGS_AZURE_DIMENSIONS`ï¼š`dimensions`
  </Accordion>

  <Accordion title="Google Generative AI">
    ```python main.py
    from crewai.rag.embeddings.providers.google.types import GenerativeAiProviderSpec

    embedding_model: GenerativeAiProviderSpec = {
        "provider": "google-generativeai",
        "config": {
            "api_key": "your-api-key",
            "model_name": "gemini-embedding-001",
            "task_type": "RETRIEVAL_DOCUMENT"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `api_key` (str)ï¼šGoogle AI API å¯†é’¥
    - `model_name` (str)ï¼šæ¨¡å‹åç§°ã€‚é»˜è®¤ï¼š`gemini-embedding-001`ã€‚é€‰é¡¹ï¼š`gemini-embedding-001`ã€`text-embedding-005`ã€`text-multilingual-embedding-002`
    - `task_type` (str)ï¼šåµŒå…¥çš„ä»»åŠ¡ç±»å‹ã€‚é»˜è®¤ï¼š`RETRIEVAL_DOCUMENT`ã€‚é€‰é¡¹ï¼š`RETRIEVAL_DOCUMENT`ã€`RETRIEVAL_QUERY`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `GOOGLE_API_KEY`ã€`GEMINI_API_KEY` æˆ– `EMBEDDINGS_GOOGLE_API_KEY`ï¼š`api_key`
    - `EMBEDDINGS_GOOGLE_GENERATIVE_AI_MODEL_NAME`ï¼š`model_name`
    - `EMBEDDINGS_GOOGLE_GENERATIVE_AI_TASK_TYPE`ï¼š`task_type`
  </Accordion>

  <Accordion title="Google Vertex AI">
    ```python main.py
    from crewai.rag.embeddings.providers.google.types import VertexAIProviderSpec

    embedding_model: VertexAIProviderSpec = {
        "provider": "google-vertex",
        "config": {
            "model_name": "text-embedding-004",
            "project_id": "your-project-id",
            "region": "us-central1",
            "api_key": "your-api-key"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_name` (str)ï¼šæ¨¡å‹åç§°ã€‚é»˜è®¤ï¼š`textembedding-gecko`ã€‚é€‰é¡¹ï¼š`text-embedding-004`ã€`textembedding-gecko`ã€`textembedding-gecko-multilingual`
    - `project_id` (str)ï¼šGoogle Cloud é¡¹ç›® IDã€‚é»˜è®¤ï¼š`cloud-large-language-models`
    - `region` (str)ï¼šGoogle Cloud åŒºåŸŸã€‚é»˜è®¤ï¼š`us-central1`
    - `api_key` (str)ï¼šç”¨äºèº«ä»½éªŒè¯çš„ API å¯†é’¥

    **ç¯å¢ƒå˜é‡ï¼š**
    - `GOOGLE_APPLICATION_CREDENTIALS`ï¼šæœåŠ¡è´¦æˆ· JSON æ–‡ä»¶è·¯å¾„
    - `GOOGLE_CLOUD_PROJECT` æˆ– `EMBEDDINGS_GOOGLE_VERTEX_PROJECT_ID`ï¼š`project_id`
    - `EMBEDDINGS_GOOGLE_VERTEX_MODEL_NAME`ï¼š`model_name`
    - `EMBEDDINGS_GOOGLE_VERTEX_REGION`ï¼š`region`
    - `EMBEDDINGS_GOOGLE_VERTEX_API_KEY`ï¼š`api_key`
  </Accordion>

  <Accordion title="Jina AI">
    ```python main.py
    from crewai.rag.embeddings.providers.jina.types import JinaProviderSpec

    embedding_model: JinaProviderSpec = {
        "provider": "jina",
        "config": {
            "api_key": "your-api-key",
            "model_name": "jina-embeddings-v3"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `api_key` (str)ï¼šJina AI API å¯†é’¥
    - `model_name` (str)ï¼šæ¨¡å‹åç§°ã€‚é»˜è®¤ï¼š`jina-embeddings-v2-base-en`ã€‚é€‰é¡¹ï¼š`jina-embeddings-v3`ã€`jina-embeddings-v2-base-en`ã€`jina-embeddings-v2-small-en`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `JINA_API_KEY` æˆ– `EMBEDDINGS_JINA_API_KEY`ï¼š`api_key`
    - `EMBEDDINGS_JINA_MODEL_NAME`ï¼š`model_name`
  </Accordion>

  <Accordion title="HuggingFace">
    ```python main.py
    from crewai.rag.embeddings.providers.huggingface.types import HuggingFaceProviderSpec

    embedding_model: HuggingFaceProviderSpec = {
        "provider": "huggingface",
        "config": {
            "url": "https://api-inference.huggingface.co/models/sentence-transformers/all-MiniLM-L6-v2"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `url` (str)ï¼šHuggingFace æ¨ç† API ç«¯ç‚¹çš„å®Œæ•´ URL

    **ç¯å¢ƒå˜é‡ï¼š**
    - `HUGGINGFACE_URL` æˆ– `EMBEDDINGS_HUGGINGFACE_URL`ï¼š`url`
  </Accordion>

  <Accordion title="Instructor">
    ```python main.py
    from crewai.rag.embeddings.providers.instructor.types import InstructorProviderSpec

    embedding_model: InstructorProviderSpec = {
        "provider": "instructor",
        "config": {
            "model_name": "hkunlp/instructor-xl",
            "device": "cuda",
            "instruction": "Represent document"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_name` (str)ï¼šHuggingFace æ¨¡å‹ IDã€‚é»˜è®¤ï¼š`hkunlp/instructor-base`ã€‚é€‰é¡¹ï¼š`hkunlp/instructor-xl`ã€`hkunlp/instructor-large`ã€`hkunlp/instructor-base`
    - `device` (str)ï¼šè¿è¡Œè®¾å¤‡ã€‚é»˜è®¤ï¼š`cpu`ã€‚é€‰é¡¹ï¼š`cpu`ã€`cuda`ã€`mps`
    - `instruction` (str)ï¼šåµŒå…¥çš„æŒ‡ä»¤å‰ç¼€

    **ç¯å¢ƒå˜é‡ï¼š**
    - `EMBEDDINGS_INSTRUCTOR_MODEL_NAME`ï¼š`model_name`
    - `EMBEDDINGS_INSTRUCTOR_DEVICE`ï¼š`device`
    - `EMBEDDINGS_INSTRUCTOR_INSTRUCTION`ï¼š`instruction`
  </Accordion>

  <Accordion title="Sentence Transformer">
    ```python main.py
    from crewai.rag.embeddings.providers.sentence_transformer.types import SentenceTransformerProviderSpec

    embedding_model: SentenceTransformerProviderSpec = {
        "provider": "sentence-transformer",
        "config": {
            "model_name": "all-mpnet-base-v2",
            "device": "cuda",
            "normalize_embeddings": True
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_name` (str)ï¼šSentence Transformers æ¨¡å‹åç§°ã€‚é»˜è®¤ï¼š`all-MiniLM-L6-v2`ã€‚é€‰é¡¹ï¼š`all-mpnet-base-v2`ã€`all-MiniLM-L6-v2`ã€`paraphrase-multilingual-MiniLM-L12-v2`
    - `device` (str)ï¼šè¿è¡Œè®¾å¤‡ã€‚é»˜è®¤ï¼š`cpu`ã€‚é€‰é¡¹ï¼š`cpu`ã€`cuda`ã€`mps`
    - `normalize_embeddings` (bool)ï¼šæ˜¯å¦æ ‡å‡†åŒ–åµŒå…¥ã€‚é»˜è®¤ï¼š`False`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `EMBEDDINGS_SENTENCE_TRANSFORMER_MODEL_NAME`ï¼š`model_name`
    - `EMBEDDINGS_SENTENCE_TRANSFORMER_DEVICE`ï¼š`device`
    - `EMBEDDINGS_SENTENCE_TRANSFORMER_NORMALIZE_EMBEDDINGS`ï¼š`normalize_embeddings`
  </Accordion>

  <Accordion title="ONNX">
    ```python main.py
    from crewai.rag.embeddings.providers.onnx.types import ONNXProviderSpec

    embedding_model: ONNXProviderSpec = {
        "provider": "onnx",
        "config": {
            "preferred_providers": ["CUDAExecutionProvider", "CPUExecutionProvider"]
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `preferred_providers` (list[str])ï¼šæŒ‰åå¥½é¡ºåºçš„ ONNX æ‰§è¡Œæä¾›å•†åˆ—è¡¨

    **ç¯å¢ƒå˜é‡ï¼š**
    - `EMBEDDINGS_ONNX_PREFERRED_PROVIDERS`ï¼š`preferred_providers`ï¼ˆé€—å·åˆ†éš”çš„åˆ—è¡¨ï¼‰
  </Accordion>

  <Accordion title="OpenCLIP">
    ```python main.py
    from crewai.rag.embeddings.providers.openclip.types import OpenCLIPProviderSpec

    embedding_model: OpenCLIPProviderSpec = {
        "provider": "openclip",
        "config": {
            "model_name": "ViT-B-32",
            "checkpoint": "laion2b_s34b_b79k",
            "device": "cuda"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_name` (str)ï¼šOpenCLIP æ¨¡å‹æ¶æ„ã€‚é»˜è®¤ï¼š`ViT-B-32`ã€‚é€‰é¡¹ï¼š`ViT-B-32`ã€`ViT-B-16`ã€`ViT-L-14`
    - `checkpoint` (str)ï¼šé¢„è®­ç»ƒæ£€æŸ¥ç‚¹åç§°ã€‚é»˜è®¤ï¼š`laion2b_s34b_b79k`ã€‚é€‰é¡¹ï¼š`laion2b_s34b_b79k`ã€`laion400m_e32`ã€`openai`
    - `device` (str)ï¼šè¿è¡Œè®¾å¤‡ã€‚é»˜è®¤ï¼š`cpu`ã€‚é€‰é¡¹ï¼š`cpu`ã€`cuda`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `EMBEDDINGS_OPENCLIP_MODEL_NAME`ï¼š`model_name`
    - `EMBEDDINGS_OPENCLIP_CHECKPOINT`ï¼š`checkpoint`
    - `EMBEDDINGS_OPENCLIP_DEVICE`ï¼š`device`
  </Accordion>

  <Accordion title="Text2Vec">
    ```python main.py
    from crewai.rag.embeddings.providers.text2vec.types import Text2VecProviderSpec

    embedding_model: Text2VecProviderSpec = {
        "provider": "text2vec",
        "config": {
            "model_name": "shibing624/text2vec-base-multilingual"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_name` (str)ï¼šæ¥è‡ª HuggingFace çš„ Text2Vec æ¨¡å‹åç§°ã€‚é»˜è®¤ï¼š`shibing624/text2vec-base-chinese`ã€‚é€‰é¡¹ï¼š`shibing624/text2vec-base-multilingual`ã€`shibing624/text2vec-base-chinese`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `EMBEDDINGS_TEXT2VEC_MODEL_NAME`ï¼š`model_name`
  </Accordion>

  <Accordion title="Roboflow">
    ```python main.py
    from crewai.rag.embeddings.providers.roboflow.types import RoboflowProviderSpec

    embedding_model: RoboflowProviderSpec = {
        "provider": "roboflow",
        "config": {
            "api_key": "your-api-key",
            "api_url": "https://infer.roboflow.com"
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `api_key` (str)ï¼šRoboflow API å¯†é’¥ã€‚é»˜è®¤ï¼š`""`ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
    - `api_url` (str)ï¼šRoboflow æ¨ç† API URLã€‚é»˜è®¤ï¼š`https://infer.roboflow.com`

    **ç¯å¢ƒå˜é‡ï¼š**
    - `ROBOFLOW_API_KEY` æˆ– `EMBEDDINGS_ROBOFLOW_API_KEY`ï¼š`api_key`
    - `ROBOFLOW_API_URL` æˆ– `EMBEDDINGS_ROBOFLOW_API_URL`ï¼š`api_url`
  </Accordion>

  <Accordion title="WatsonX (IBM)">
    ```python main.py
    from crewai.rag.embeddings.providers.ibm.types import WatsonXProviderSpec

    embedding_model: WatsonXProviderSpec = {
        "provider": "watsonx",
        "config": {
            "model_id": "ibm/slate-125m-english-rtrvr",
            "url": "https://us-south.ml.cloud.ibm.com",
            "api_key": "your-api-key",
            "project_id": "your-project-id",
            "batch_size": 100,
            "concurrency_limit": 10,
            "persistent_connection": True
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `model_id` (str)ï¼šWatsonX æ¨¡å‹æ ‡è¯†ç¬¦
    - `url` (str)ï¼šWatsonX API ç«¯ç‚¹
    - `api_key` (str)ï¼šIBM Cloud API å¯†é’¥
    - `project_id` (str)ï¼šWatsonX é¡¹ç›® ID
    - `space_id` (str)ï¼šWatsonX ç©ºé—´ IDï¼ˆproject_id çš„æ›¿ä»£ï¼‰
    - `batch_size` (int)ï¼šåµŒå…¥çš„æ‰¹é‡å¤§å°ã€‚é»˜è®¤ï¼š`100`
    - `concurrency_limit` (int)ï¼šæœ€å¤§å¹¶å‘è¯·æ±‚ã€‚é»˜è®¤ï¼š`10`
    - `persistent_connection` (bool)ï¼šä½¿ç”¨æŒä¹…è¿æ¥ã€‚é»˜è®¤ï¼š`True`
    - åŠ ä¸Š 20+ ä¸ªå…¶ä»–èº«ä»½éªŒè¯å’Œé…ç½®é€‰é¡¹

    **ç¯å¢ƒå˜é‡ï¼š**
    - `WATSONX_API_KEY` æˆ– `EMBEDDINGS_WATSONX_API_KEY`ï¼š`api_key`
    - `WATSONX_URL` æˆ– `EMBEDDINGS_WATSONX_URL`ï¼š`url`
    - `WATSONX_PROJECT_ID` æˆ– `EMBEDDINGS_WATSONX_PROJECT_ID`ï¼š`project_id`
    - `EMBEDDINGS_WATSONX_MODEL_ID`ï¼š`model_id`
    - `EMBEDDINGS_WATSONX_SPACE_ID`ï¼š`space_id`
    - `EMBEDDINGS_WATSONX_BATCH_SIZE`ï¼š`batch_size`
    - `EMBEDDINGS_WATSONX_CONCURRENCY_LIMIT`ï¼š`concurrency_limit`
    - `EMBEDDINGS_WATSONX_PERSISTENT_CONNECTION`ï¼š`persistent_connection`
  </Accordion>

  <Accordion title="è‡ªå®šä¹‰">
    ```python main.py
    from crewai.rag.core.base_embeddings_callable import EmbeddingFunction
    from crewai.rag.embeddings.providers.custom.types import CustomProviderSpec

    class MyEmbeddingFunction(EmbeddingFunction):
        def __call__(self, input):
            # ä½ çš„è‡ªå®šä¹‰åµŒå…¥é€»è¾‘
            return embeddings

    embedding_model: CustomProviderSpec = {
        "provider": "custom",
        "config": {
            "embedding_callable": MyEmbeddingFunction
        }
    }
    ```

    **é…ç½®é€‰é¡¹ï¼š**
    - `embedding_callable` (type[EmbeddingFunction])ï¼šè‡ªå®šä¹‰åµŒå…¥å‡½æ•°ç±»

    **æ³¨æ„ï¼š**è‡ªå®šä¹‰åµŒå…¥å‡½æ•°å¿…é¡»å®ç°åœ¨ `crewai.rag.core.base_embeddings_callable` ä¸­å®šä¹‰çš„ `EmbeddingFunction` åè®®ã€‚`__call__` æ–¹æ³•åº”è¯¥æ¥å—è¾“å…¥æ•°æ®å¹¶è¿”å›åµŒå…¥ä½œä¸º numpy æ•°ç»„åˆ—è¡¨ï¼ˆæˆ–å°†è¢«æ ‡å‡†åŒ–çš„å…¼å®¹æ ¼å¼ï¼‰ã€‚è¿”å›çš„åµŒå…¥ä¼šè‡ªåŠ¨æ ‡å‡†åŒ–å’ŒéªŒè¯ã€‚
  </Accordion>
</AccordionGroup>

### æ³¨æ„äº‹é¡¹
- é™¤éæ ‡è®°ä¸º**å¿…éœ€**ï¼Œå¦åˆ™æ‰€æœ‰é…ç½®å­—æ®µéƒ½æ˜¯å¯é€‰çš„
- API å¯†é’¥é€šå¸¸å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è€Œä¸æ˜¯é…ç½®æä¾›
- åœ¨é€‚ç”¨çš„åœ°æ–¹æ˜¾ç¤ºé»˜è®¤å€¼

## ç»“è®º

`RagTool` æä¾›äº†ä¸€ç§ä»å„ç§æ•°æ®æºåˆ›å»ºå’ŒæŸ¥è¯¢çŸ¥è¯†åº“çš„å¼ºå¤§æ–¹å¼ã€‚é€šè¿‡åˆ©ç”¨æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œå®ƒä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿé«˜æ•ˆè®¿é—®å’Œæ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¢å¼ºå®ƒä»¬æä¾›å‡†ç¡®å’Œä¸Šä¸‹æ–‡é€‚å½“å“åº”çš„èƒ½åŠ›ã€‚