---
title: 流程
description: 通过 CrewAI 中的流程管理工作流的详细指南，包含更新的实现细节。
icon: bars-staggered
mode: "wide"
---

## 概述

<Tip>
  流程编排代理的任务执行，类似于人类团队中的项目管理。 
  这些流程确保任务根据预定义策略高效分发和执行。
</Tip>

## 流程实现

- **顺序**：顺序执行任务，确保任务以有序的进展完成。
- **层次**：在管理层次中组织任务，任务基于结构化的命令链被委派和执行。必须在团队中指定管理器语言模型（`manager_llm`）或自定义管理代理（`manager_agent`）以启用层次流程，促进管理器创建和管理任务。
- **共识流程（计划中）**：旨在实现代理间任务执行的协作决策，此流程类型在 CrewAI 中引入了任务管理的民主方法。计划在未来开发中，当前尚未在代码库中实现。

## 流程在团队合作中的作用

流程使个体代理作为有凝聚力的单位运作，简化他们的努力以高效和连贯的方式实现共同目标。

## 为团队分配流程

要在团队中分配流程，在团队创建时指定流程类型以设置执行策略。对于层次流程，确保定义 `manager_llm` 或 `manager_agent` 用于管理代理。

```python
from crewai import Crew, Process

# 示例：创建具有顺序流程的团队
crew = Crew(
    agents=my_agents,
    tasks=my_tasks,
    process=Process.sequential
)

# 示例：创建具有层次流程的团队
# 确保提供 manager_llm 或 manager_agent
crew = Crew(
    agents=my_agents,
    tasks=my_tasks,
    process=Process.hierarchical,
    manager_llm="gpt-4o"
    # 或
    # manager_agent=my_manager_agent
)
```

**注意：** 确保 `my_agents` 和 `my_tasks` 在创建 `Crew` 对象之前定义，对于层次流程，还需要 `manager_llm` 或 `manager_agent`。

## 顺序流程

此方法模拟动态团队工作流程，以深思熟虑和系统的方式通过任务进展。任务执行遵循任务列表中的预定义顺序，一个任务的输出作为下一个任务的上下文服务。

要自定义任务上下文，在 `Task` 类中使用 `context` 参数来指定应作为后续任务上下文的输出。

## 层次流程

模仿企业层次，CrewAI 允许指定自定义管理代理或自动创建一个，要求指定管理器语言模型（`manager_llm`）。此代理监督任务执行，包括规划、委派和验证。任务未预先分配；管理器根据代理能力分配任务、审查输出并评估任务完成。

## 流程类：详细概述

`Process` 类作为枚举（`Enum`）实现，确保类型安全并将流程值限制为定义的类型（`sequential`、`hierarchical`）。共识流程计划在未来包含，强调我们对持续发展和创新的承诺。

## 结论

CrewAI 中流程促进的协作对个体 AI 代理作为系统团队工作至关重要。 
本文档已更新以反映最新功能、增强和计划集成共识流程的计划，确保用户能够访问最新和全面的信息。