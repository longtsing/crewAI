---
title: Knowledge
description: CrewAI ä¸­çš„çŸ¥è¯†æ˜¯ä»€ä¹ˆä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒã€‚
icon: book
mode: "wide"
---

## æ¦‚è¿°

CrewAI ä¸­çš„çŸ¥è¯†æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç³»ç»Ÿï¼Œå…è®¸ AI ä»£ç†åœ¨ä»»åŠ¡æ‰§è¡ŒæœŸé—´è®¿é—®å’Œåˆ©ç”¨å¤–éƒ¨ä¿¡æ¯æºã€‚
å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆç»™æ‚¨çš„ä»£ç†ä¸€ä¸ªä»–ä»¬åœ¨å·¥ä½œæ—¶å¯ä»¥æŸ¥é˜…çš„å‚è€ƒèµ„æ–™åº“ã€‚

<Info>
  ä½¿ç”¨çŸ¥è¯†çš„ä¸»è¦å¥½å¤„ï¼š
  - é€šè¿‡é¢†åŸŸç‰¹å®šä¿¡æ¯å¢å¼ºä»£ç†
  - é€šè¿‡ç°å®ä¸–ç•Œæ•°æ®æ”¯æŒå†³ç­–
  - åœ¨å¯¹è¯é—´ä¿æŒä¸Šä¸‹æ–‡
  - åŸºäºäº‹å®ä¿¡æ¯æä¾›å“åº”
</Info>

## å¿«é€Ÿå…¥é—¨ç¤ºä¾‹

<Tip>
å¯¹äºåŸºäºæ–‡ä»¶çš„çŸ¥è¯†æºï¼Œè¯·ç¡®ä¿å°†æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `knowledge` ç›®å½•ä¸­ã€‚
å¦å¤–ï¼Œåœ¨åˆ›å»ºæºæ—¶ä½¿ç”¨ç›¸å¯¹äº `knowledge` ç›®å½•çš„è·¯å¾„ã€‚
</Tip>

### å‘é‡å­˜å‚¨ï¼ˆRAGï¼‰å®¢æˆ·ç«¯é…ç½®

CrewAI æš´éœ²äº†ä¸€ä¸ªä¸æä¾›å•†æ— å…³çš„ RAG å®¢æˆ·ç«¯æŠ½è±¡ï¼Œç”¨äºå‘é‡å­˜å‚¨ã€‚é»˜è®¤æä¾›å•†æ˜¯ ChromaDBï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ Qdrantã€‚æ‚¨å¯ä»¥ä½¿ç”¨é…ç½®å·¥å…·åˆ‡æ¢æä¾›å•†ã€‚

å½“å‰æ”¯æŒçš„ï¼š
- ChromaDBï¼ˆé»˜è®¤ï¼‰
- Qdrant

```python Code
from crewai.rag.config.utils import set_rag_config, get_rag_client, clear_rag_config

# ChromaDBï¼ˆé»˜è®¤ï¼‰
from crewai.rag.chromadb.config import ChromaDBConfig
set_rag_config(ChromaDBConfig())
chromadb_client = get_rag_client()

# Qdrant
from crewai.rag.qdrant.config import QdrantConfig
set_rag_config(QdrantConfig())
qdrant_client = get_rag_client()

# ç¤ºä¾‹æ“ä½œï¼ˆä»»ä½•æä¾›å•†çš„ API éƒ½ç›¸åŒï¼‰
client = qdrant_client  # æˆ–è€… chromadb_client
client.create_collection(collection_name="docs")
client.add_documents(
    collection_name="docs",
    documents=[{"id": "1", "content": "CrewAI å®ç°åä½œå¼ AI ä»£ç†ã€‚"}],
)
results = client.search(collection_name="docs", query="åä½œå¼ä»£ç†", limit=3)

clear_rag_config()  # å¯é€‰é‡ç½®
```

è¿™ä¸ª RAG å®¢æˆ·ç«¯ç‹¬ç«‹äº Knowledge çš„å†…ç½®å­˜å‚¨ã€‚å½“æ‚¨éœ€è¦ç›´æ¥æ§åˆ¶å‘é‡å­˜å‚¨æˆ–è‡ªå®šä¹‰æ£€ç´¢ç®¡é“æ—¶ä½¿ç”¨å®ƒã€‚

### åŸºæœ¬å­—ç¬¦ä¸²çŸ¥è¯†ç¤ºä¾‹

```python Code
from crewai import Agent, Task, Crew, Process, LLM
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource

# åˆ›å»ºçŸ¥è¯†æº
content = "ç”¨æˆ·å§“åæ˜¯ Johnã€‚ä»–30å²ï¼Œä½åœ¨æ—§é‡‘å±±ã€‚"
string_source = StringKnowledgeSource(content=content)

# åˆ›å»ºä¸€ä¸ªæ¸©åº¦ä¸º 0 çš„ LLMï¼Œç¡®ä¿ç¡®å®šæ€§è¾“å‡º
llm = LLM(model="gpt-4o-mini", temperature=0)

# åˆ›å»ºå¸¦æœ‰çŸ¥è¯†å­˜å‚¨çš„ä»£ç†
agent = Agent(
    role="å…³äºç”¨æˆ·",
    goal="æ‚¨äº†è§£å…³äºç”¨æˆ·çš„ä¸€åˆ‡ã€‚",
    backstory="æ‚¨æ˜¯ç†è§£äººä»¬åŠå…¶åå¥½çš„å¤§å¸ˆã€‚",
    verbose=True,
    allow_delegation=False,
    llm=llm,
)

task = Task(
    description="å›ç­”ä»¥ä¸‹å…³äºç”¨æˆ·çš„é—®é¢˜ï¼š{question}",
    expected_output="å¯¹é—®é¢˜çš„å›ç­”ã€‚",
    agent=agent,
)

crew = Crew(
    agents=[agent],
    tasks=[task],
    verbose=True,
    process=Process.sequential,
    knowledge_sources=[string_source], # é€šè¿‡åœ¨è¿™é‡Œæ·»åŠ æºæ¥å¯ç”¨çŸ¥è¯†
)

result = crew.kickoff(inputs={"question": "John ä½åœ¨å“ªä¸ªåŸå¸‚ï¼Œä»–å¤šå¤§äº†ï¼Ÿ"})
```

### ç½‘é¡µå†…å®¹çŸ¥è¯†ç¤ºä¾‹

<Note>
  æ‚¨éœ€è¦å®‰è£… `docling` æ‰èƒ½è®©ä»¥ä¸‹ç¤ºä¾‹å·¥ä½œï¼š`uv add docling`
</Note>

```python Code
from crewai import LLM, Agent, Crew, Process, Task
from crewai.knowledge.source.crew_docling_source import CrewDoclingSource

# ä»ç½‘é¡µå†…å®¹åˆ›å»ºçŸ¥è¯†æº
content_source = CrewDoclingSource(
    file_paths=[
        "https://lilianweng.github.io/posts/2024-11-28-reward-hacking",
        "https://lilianweng.github.io/posts/2024-07-07-hallucination",
    ],
)

# åˆ›å»ºä¸€ä¸ªæ¸©åº¦ä¸º 0 çš„ LLMï¼Œç¡®ä¿ç¡®å®šæ€§è¾“å‡º
llm = LLM(model="gpt-4o-mini", temperature=0)

# åˆ›å»ºå¸¦æœ‰çŸ¥è¯†å­˜å‚¨çš„ä»£ç†
agent = Agent(
    role="å…³äºè®ºæ–‡",
    goal="æ‚¨äº†è§£å…³äºè®ºæ–‡çš„ä¸€åˆ‡ã€‚",
    backstory="æ‚¨æ˜¯ç†è§£è®ºæ–‡åŠå…¶å†…å®¹çš„å¤§å¸ˆã€‚",
    verbose=True,
    allow_delegation=False,
    llm=llm,
)

task = Task(
    description="å›ç­”ä»¥ä¸‹å…³äºè®ºæ–‡çš„é—®é¢˜ï¼š{question}",
    expected_output="å¯¹é—®é¢˜çš„å›ç­”ã€‚",
    agent=agent,
)

crew = Crew(
    agents=[agent],
    tasks=[task],
    verbose=True,
    process=Process.sequential,
    knowledge_sources=[content_source],
)

result = crew.kickoff(
    inputs={"question": "å¥–åŠ±é»‘å®¢è®ºæ–‡æ˜¯å…³äºä»€ä¹ˆçš„ï¼Ÿè¯·ç¡®ä¿æä¾›æ¥æºã€‚"}
)
```

## æ”¯æŒçš„çŸ¥è¯†æº

CrewAI åŸç”Ÿæ”¯æŒå¤šç§ç±»å‹çš„çŸ¥è¯†æºï¼š

<CardGroup cols={2}>
  <Card title="æ–‡æœ¬æº" icon="text">
    - åŸå§‹å­—ç¬¦ä¸²
    - æ–‡æœ¬æ–‡ä»¶ï¼ˆ.txtï¼‰
    - PDF æ–‡æ¡£
  </Card>
  <Card title="ç»“æ„åŒ–æ•°æ®" icon="table">
    - CSV æ–‡ä»¶
    - Excel ç”µå­è¡¨æ ¼
    - JSON æ–‡æ¡£
  </Card>
</CardGroup>

### æ–‡æœ¬æ–‡ä»¶çŸ¥è¯†æº
```python
from crewai.knowledge.source.text_file_knowledge_source import TextFileKnowledgeSource

text_source = TextFileKnowledgeSource(
    file_paths=["document.txt", "another.txt"]
)
```

### PDF çŸ¥è¯†æº
```python
from crewai.knowledge.source.pdf_knowledge_source import PDFKnowledgeSource

pdf_source = PDFKnowledgeSource(
    file_paths=["document.pdf", "another.pdf"]
)
```

### CSV çŸ¥è¯†æº
```python
from crewai.knowledge.source.csv_knowledge_source import CSVKnowledgeSource

csv_source = CSVKnowledgeSource(
    file_paths=["data.csv"]
)
```

### Excel çŸ¥è¯†æº
```python
from crewai.knowledge.source.excel_knowledge_source import ExcelKnowledgeSource

excel_source = ExcelKnowledgeSource(
    file_paths=["spreadsheet.xlsx"]
)
```

### JSON çŸ¥è¯†æº
```python
from crewai.knowledge.source.json_knowledge_source import JSONKnowledgeSource

json_source = JSONKnowledgeSource(
    file_paths=["data.json"]
)
```

<Note>
  è¯·ç¡®ä¿åˆ›å»ºäº† ./knowledge æ–‡ä»¶å¤¹ã€‚æ‰€æœ‰æºæ–‡ä»¶ï¼ˆå¦‚ .txtã€.pdfã€.xlsxã€.jsonï¼‰éƒ½åº”æ”¾åœ¨æ­¤æ–‡ä»¶å¤¹ä¸­è¿›è¡Œé›†ä¸­ç®¡ç†ã€‚
</Note>

## ä»£ç† vs å›¢é˜ŸçŸ¥è¯†ï¼šå®Œæ•´æŒ‡å—

<Info>
**ç†è§£çŸ¥è¯†çº§åˆ«**ï¼šCrewAI åœ¨ä»£ç†å’Œå›¢é˜Ÿçº§åˆ«éƒ½æ”¯æŒçŸ¥è¯†ã€‚æœ¬èŠ‚å°†é˜æ˜æ¯ä¸ªçº§åˆ«çš„å·¥ä½œåŸç†ã€åˆå§‹åŒ–æ—¶æœºï¼Œå¹¶è§£å†³å…³äºä¾èµ–å…³ç³»çš„å¸¸è§è¯¯è§£ã€‚
</Info>

### çŸ¥è¯†åˆå§‹åŒ–çš„å®é™…å·¥ä½œåŸç†

ä»¥ä¸‹æ˜¯ä½¿ç”¨çŸ¥è¯†æ—¶å®é™…å‘ç”Ÿçš„æƒ…å†µï¼š

#### ä»£ç†çº§åˆ«çŸ¥è¯†ï¼ˆç‹¬ç«‹ï¼‰
```python
from crewai import Agent, Task, Crew
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource

# å¸¦æœ‰è‡ªå·±çŸ¥è¯†çš„ä»£ç† - ä¸éœ€è¦å›¢é˜ŸçŸ¥è¯†
specialist_knowledge = StringKnowledgeSource(
    content="ä»…é€‚ç”¨äºæ­¤ä»£ç†çš„ä¸“é—¨æŠ€æœ¯ä¿¡æ¯"
)

specialist_agent = Agent(
    role="æŠ€æœ¯ä¸“å®¶",
    goal="æä¾›æŠ€æœ¯ä¸“ä¸šçŸ¥è¯†",
    backstory="åœ¨ä¸“é—¨æŠ€æœ¯é¢†åŸŸçš„ä¸“å®¶",
    knowledge_sources=[specialist_knowledge]  # ä»£ç†ç‰¹å®šçŸ¥è¯†
)

task = Task(
    description="å›ç­”æŠ€æœ¯é—®é¢˜",
    agent=specialist_agent,
    expected_output="æŠ€æœ¯å›ç­”"
)

# ä¸éœ€è¦å›¢é˜Ÿçº§åˆ«çŸ¥è¯†
crew = Crew(
    agents=[specialist_agent],
    tasks=[task]
)

result = crew.kickoff()  # ä»£ç†çŸ¥è¯†ç‹¬ç«‹å·¥ä½œ
```

#### `crew.kickoff()` æœŸé—´å‘ç”Ÿçš„æƒ…å†µ

å½“æ‚¨è°ƒç”¨ `crew.kickoff()` æ—¶ï¼Œç¡®åˆ‡çš„åºåˆ—å¦‚ä¸‹ï¼š

```python
# åœ¨å¯åŠ¨æœŸé—´
for agent in self.agents:
    agent.crew = self  # ä»£ç†è·å¾—å¯¹å›¢é˜Ÿçš„å¼•ç”¨
    agent.set_knowledge(crew_embedder=self.embedder)  # ä»£ç†çŸ¥è¯†è¢«åˆå§‹åŒ–
    agent.create_agent_executor()
```

#### å­˜å‚¨ç‹¬ç«‹æ€§

æ¯ä¸ªçŸ¥è¯†çº§åˆ«ä½¿ç”¨ç‹¬ç«‹çš„å­˜å‚¨é›†åˆï¼š

```python
# ä»£ç†çŸ¥è¯†å­˜å‚¨
agent_collection_name = agent.role  # ä¾‹å¦‚ "æŠ€æœ¯ä¸“å®¶"

# å›¢é˜ŸçŸ¥è¯†å­˜å‚¨  
crew_collection_name = "crew"

# ä¸¤è€…éƒ½å­˜å‚¨åœ¨åŒä¸€ä¸ª ChromaDB å®ä¾‹ä¸­ï¼Œä½†åœ¨ä¸åŒçš„é›†åˆä¸­
# è·¯å¾„ï¼š~/.local/share/CrewAI/{project}/knowledge/
#   â”œâ”€â”€ crew/                    # å›¢é˜ŸçŸ¥è¯†é›†åˆ
#   â”œâ”€â”€ Technical Specialist/    # ä»£ç†çŸ¥è¯†é›†åˆ
#   â””â”€â”€ Another Agent Role/      # å¦ä¸€ä¸ªä»£ç†çš„é›†åˆ
```

### å®Œæ•´å·¥ä½œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šä»…ä»£ç†çŸ¥è¯†
```python
from crewai import Agent, Task, Crew
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource

# ä»£ç†ç‰¹å®šçŸ¥è¯†
agent_knowledge = StringKnowledgeSource(
    content="åªæœ‰æ­¤ä»£ç†éœ€è¦çš„ä»£ç†ç‰¹å®šä¿¡æ¯"
)

agent = Agent(
    role="ä¸“å®¶",
    goal="ä½¿ç”¨ä¸“é—¨çŸ¥è¯†",
    backstory="å…·æœ‰ç‰¹å®šçŸ¥è¯†çš„ä¸“å®¶",
    knowledge_sources=[agent_knowledge],
    embedder={  # ä»£ç†å¯ä»¥æœ‰è‡ªå·±çš„åµŒå…¥å™¨
        "provider": "openai",
        "config": {"model": "text-embedding-3-small"}
    }
)

task = Task(
    description="ä½¿ç”¨æ‚¨çš„ä¸“é—¨çŸ¥è¯†å›ç­”",
    agent=agent,
    expected_output="åŸºäºä»£ç†çŸ¥è¯†çš„å›ç­”"
)

# ä¸éœ€è¦å›¢é˜ŸçŸ¥è¯†
crew = Crew(agents=[agent], tasks=[task])
result = crew.kickoff()  # å®Œç¾å·¥ä½œ
```

#### ç¤ºä¾‹ 2ï¼šä»£ç†å’Œå›¢é˜ŸçŸ¥è¯†éƒ½åŒ…æ‹¬
```python
# å›¢é˜ŸèŒƒå›´çš„çŸ¥è¯†ï¼ˆæ‰€æœ‰ä»£ç†å…±äº«ï¼‰
crew_knowledge = StringKnowledgeSource(
    content="å…¬å¸æ”¿ç­–å’Œæ‰€æœ‰ä»£ç†çš„ä¸€èˆ¬ä¿¡æ¯"
)

# ä»£ç†ç‰¹å®šçŸ¥è¯†
specialist_knowledge = StringKnowledgeSource(
    content="åªæœ‰ä¸“å®¶éœ€è¦çš„æŠ€æœ¯è§„æ ¼"
)

specialist = Agent(
    role="æŠ€æœ¯ä¸“å®¶",
    goal="æä¾›æŠ€æœ¯ä¸“ä¸šçŸ¥è¯†",
    backstory="æŠ€æœ¯ä¸“å®¶",
    knowledge_sources=[specialist_knowledge]  # ä»£ç†ç‰¹å®š
)

generalist = Agent(
    role="é€šç”¨åŠ©æ‰‹", 
    goal="æä¾›ä¸€èˆ¬ååŠ©",
    backstory="é€šç”¨åŠ©æ‰‹"
    # æ²¡æœ‰ä»£ç†ç‰¹å®šçŸ¥è¯†
)

crew = Crew(
    agents=[specialist, generalist],
    tasks=[...],
    knowledge_sources=[crew_knowledge]  # å›¢é˜ŸèŒƒå›´çŸ¥è¯†
)

# ç»“æœï¼š
# - specialist è·å¾—ï¼šcrew_knowledge + specialist_knowledge
# - generalist è·å¾—ï¼šä»… crew_knowledge
```

#### ç¤ºä¾‹ 3ï¼šä¸åŒä»£ç†å…·æœ‰ä¸åŒçŸ¥è¯†
```python
# ä¸åŒä»£ç†çš„ä¸åŒçŸ¥è¯†
sales_knowledge = StringKnowledgeSource(content="é”€å”®æµç¨‹å’Œå®šä»·")
tech_knowledge = StringKnowledgeSource(content="æŠ€æœ¯æ–‡æ¡£")
support_knowledge = StringKnowledgeSource(content="æ”¯æŒæµç¨‹")

sales_agent = Agent(
    role="é”€å”®ä»£è¡¨",
    knowledge_sources=[sales_knowledge],
    embedder={"provider": "openai", "config": {"model": "text-embedding-3-small"}}
)

tech_agent = Agent(
    role="æŠ€æœ¯ä¸“å®¶", 
    knowledge_sources=[tech_knowledge],
    embedder={"provider": "ollama", "config": {"model": "mxbai-embed-large"}}
)

support_agent = Agent(
    role="æ”¯æŒä¸“å®¶",
    knowledge_sources=[support_knowledge]
    # å°†ä½¿ç”¨å›¢é˜ŸåµŒå…¥å™¨ä½œä¸ºåå¤‡
)

crew = Crew(
    agents=[sales_agent, tech_agent, support_agent],
    tasks=[...],
    embedder={  # æ²¡æœ‰è‡ªå·±çš„åµŒå…¥å™¨çš„ä»£ç†çš„åå¤‡åµŒå…¥å™¨
        "provider": "google-generativeai",
        "config": {"model_name": "gemini-embedding-001"}
    }
)

# æ¯ä¸ªä»£ç†åªè·å¾—å…¶ç‰¹å®šçŸ¥è¯†
# æ¯ä¸ªéƒ½å¯ä»¥ä½¿ç”¨ä¸åŒçš„åµŒå…¥æä¾›å•†
```

<Tip>
ä¸ä½¿ç”¨å·¥å…·ä»å‘é‡æ•°æ®åº“æ£€ç´¢ä¸åŒï¼Œé¢„åŠ è½½çŸ¥è¯†çš„ä»£ç†å°†ä¸éœ€è¦æ£€ç´¢è§’è‰²æˆ–ä»»åŠ¡ã€‚
åªéœ€æ·»åŠ æ‚¨çš„ä»£ç†æˆ–å›¢é˜Ÿæ­£å¸¸è¿è¡Œæ‰€éœ€çš„ç›¸å…³çŸ¥è¯†æºã€‚

çŸ¥è¯†æºå¯ä»¥åœ¨ä»£ç†æˆ–å›¢é˜Ÿçº§åˆ«æ·»åŠ ã€‚
å›¢é˜Ÿçº§åˆ«çŸ¥è¯†æºå°†è¢«å›¢é˜Ÿä¸­**æ‰€æœ‰ä»£ç†**ä½¿ç”¨ã€‚
ä»£ç†çº§åˆ«çŸ¥è¯†æºå°†è¢«é¢„åŠ è½½çŸ¥è¯†çš„**ç‰¹å®šä»£ç†**ä½¿ç”¨ã€‚
</Tip>

## çŸ¥è¯†é…ç½®

æ‚¨å¯ä»¥ä¸ºå›¢é˜Ÿæˆ–ä»£ç†é…ç½®çŸ¥è¯†é…ç½®ã€‚

```python Code
from crewai.knowledge.knowledge_config import KnowledgeConfig

knowledge_config = KnowledgeConfig(results_limit=10, score_threshold=0.5)

agent = Agent(
    ...
    knowledge_config=knowledge_config
)
```

<Tip>
  `results_limit`ï¼šè¦è¿”å›çš„ç›¸å…³æ–‡æ¡£æ•°é‡ã€‚é»˜è®¤ä¸º 3ã€‚
  `score_threshold`ï¼šæ–‡æ¡£è¢«è®¤ä¸ºæ˜¯ç›¸å…³çš„æœ€ä½åˆ†æ•°ã€‚é»˜è®¤ä¸º 0.35ã€‚
</Tip>

## æ”¯æŒçš„çŸ¥è¯†å‚æ•°

<ParamField body="sources" type="List[BaseKnowledgeSource]" required="Yes"> 
    æä¾›è¦å­˜å‚¨å’ŒæŸ¥è¯¢çš„å†…å®¹çš„çŸ¥è¯†æºåˆ—è¡¨ã€‚å¯ä»¥åŒ…æ‹¬ PDFã€CSVã€Excelã€JSONã€æ–‡æœ¬æ–‡ä»¶æˆ–å­—ç¬¦ä¸²å†…å®¹ã€‚ 
</ParamField>
<ParamField body="collection_name" type="str"> 
    çŸ¥è¯†å°†è¦å­˜å‚¨çš„é›†åˆåç§°ã€‚ç”¨äºè¯†åˆ«ä¸åŒçš„çŸ¥è¯†é›†ã€‚å¦‚æœæœªæä¾›ï¼Œé»˜è®¤ä¸º "knowledge"ã€‚ 
</ParamField>
<ParamField body="storage" type="Optional[KnowledgeStorage]"> 
    è‡ªå®šä¹‰å­˜å‚¨é…ç½®ï¼Œç”¨äºç®¡ç†çŸ¥è¯†çš„å­˜å‚¨å’Œæ£€ç´¢æ–¹å¼ã€‚å¦‚æœæœªæä¾›ï¼Œå°†åˆ›å»ºé»˜è®¤å­˜å‚¨ã€‚ 
</ParamField>

## çŸ¥è¯†å­˜å‚¨é€æ˜åº¦

<Info>
**ç†è§£çŸ¥è¯†å­˜å‚¨**ï¼šCrewAI ä½¿ç”¨ ChromaDB è¿›è¡Œå‘é‡å­˜å‚¨ï¼Œè‡ªåŠ¨å°†çŸ¥è¯†æºå­˜å‚¨åœ¨å¹³å°ç‰¹å®šç›®å½•ä¸­ã€‚ç†è§£è¿™äº›ä½ç½®å’Œé»˜è®¤å€¼æœ‰åŠ©äºç”Ÿäº§éƒ¨ç½²ã€è°ƒè¯•å’Œå­˜å‚¨ç®¡ç†ã€‚
</Info>

### CrewAI å­˜å‚¨çŸ¥è¯†æ–‡ä»¶çš„ä½ç½®

é»˜è®¤æƒ…å†µä¸‹ï¼ŒCrewAI ä½¿ç”¨ä¸å†…å­˜ç›¸åŒçš„å­˜å‚¨ç³»ç»Ÿï¼Œå°†çŸ¥è¯†å­˜å‚¨åœ¨å¹³å°ç‰¹å®šç›®å½•ä¸­ï¼š

#### æŒ‰å¹³å°çš„é»˜è®¤å­˜å‚¨ä½ç½®

**macOSï¼š**
```
~/Library/Application Support/CrewAI/{project_name}/
â””â”€â”€ knowledge/                    # çŸ¥è¯† ChromaDB æ–‡ä»¶
    â”œâ”€â”€ chroma.sqlite3           # ChromaDB å…ƒæ•°æ®
    â”œâ”€â”€ {collection_id}/         # å‘é‡åµŒå…¥
    â””â”€â”€ knowledge_{collection}/  # å‘½åé›†åˆ
```

**Linuxï¼š**
```
~/.local/share/CrewAI/{project_name}/
â””â”€â”€ knowledge/
    â”œâ”€â”€ chroma.sqlite3
    â”œâ”€â”€ {collection_id}/
    â””â”€â”€ knowledge_{collection}/
```

**Windowsï¼š**
```
C:\Users\{username}\AppData\Local\CrewAI\{project_name}\
â””â”€â”€ knowledge\
    â”œâ”€â”€ chroma.sqlite3
    â”œâ”€â”€ {collection_id}\
    â””â”€â”€ knowledge_{collection}\
```

### æŸ¥æ‰¾æ‚¨çš„çŸ¥è¯†å­˜å‚¨ä½ç½®

è¦æŸ¥çœ‹ CrewAI ç¡®åˆ‡å­˜å‚¨çŸ¥è¯†æ–‡ä»¶çš„ä½ç½®ï¼š

```python
from crewai.utilities.paths import db_storage_path
import os

# è·å–çŸ¥è¯†å­˜å‚¨è·¯å¾„
knowledge_path = os.path.join(db_storage_path(), "knowledge")
print(f"çŸ¥è¯†å­˜å‚¨ä½ç½®ï¼š{knowledge_path}")

# åˆ—å‡ºçŸ¥è¯†é›†åˆå’Œæ–‡ä»¶
if os.path.exists(knowledge_path):
    print("\nçŸ¥è¯†å­˜å‚¨å†…å®¹ï¼š")
    for item in os.listdir(knowledge_path):
        item_path = os.path.join(knowledge_path, item)
        if os.path.isdir(item_path):
            print(f"ğŸ“ é›†åˆï¼š{item}/")
            # æ˜¾ç¤ºé›†åˆå†…å®¹
            try:
                for subitem in os.listdir(item_path):
                    print(f"   â””â”€â”€ {subitem}")
            except PermissionError:
                print(f"   â””â”€â”€ (æƒé™è¢«æ‹’ç»)")
        else:
            print(f"ğŸ“„ {item}")
else:
    print("å°šæœªæ‰¾åˆ°çŸ¥è¯†å­˜å‚¨ã€‚")
```

### æ§åˆ¶çŸ¥è¯†å­˜å‚¨ä½ç½®

#### é€‰é¡¹ 1ï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰
```python
import os
from crewai import Crew

# è®¾ç½®æ‰€æœ‰ CrewAI æ•°æ®çš„è‡ªå®šä¹‰å­˜å‚¨ä½ç½®
os.environ["CREWAI_STORAGE_DIR"] = "./my_project_storage"

# ç°åœ¨æ‰€æœ‰çŸ¥è¯†éƒ½å°†å­˜å‚¨åœ¨ ./my_project_storage/knowledge/ ä¸­
crew = Crew(
    agents=[...],
    tasks=[...],
    knowledge_sources=[...]
)
```

#### é€‰é¡¹ 2ï¼šè‡ªå®šä¹‰çŸ¥è¯†å­˜å‚¨
```python
from crewai.knowledge.storage.knowledge_storage import KnowledgeStorage
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource

# åˆ›å»ºå…·æœ‰ç‰¹å®šåµŒå…¥å™¨çš„è‡ªå®šä¹‰å­˜å‚¨
custom_storage = KnowledgeStorage(
    embedder={
        "provider": "ollama",
        "config": {"model": "mxbai-embed-large"}
    },
    collection_name="my_custom_knowledge"
)

# ä¸çŸ¥è¯†æºä¸€èµ·ä½¿ç”¨
knowledge_source = StringKnowledgeSource(
    content="æ‚¨çš„çŸ¥è¯†å†…å®¹åœ¨è¿™é‡Œ"
)
knowledge_source.storage = custom_storage
```

#### é€‰é¡¹ 3ï¼šé¡¹ç›®ç‰¹å®šçŸ¥è¯†å­˜å‚¨
```python
import os
from pathlib import Path

# å°†çŸ¥è¯†å­˜å‚¨åœ¨é¡¹ç›®ç›®å½•ä¸­
project_root = Path(__file__).parent
knowledge_dir = project_root / "knowledge_storage"

os.environ["CREWAI_STORAGE_DIR"] = str(knowledge_dir)

# ç°åœ¨æ‰€æœ‰çŸ¥è¯†éƒ½å°†å­˜å‚¨åœ¨æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­
```

### é»˜è®¤åµŒå…¥æä¾›å•†è¡Œä¸º

<Info>
**é»˜è®¤åµŒå…¥æä¾›å•†**ï¼šCrewAI é»˜è®¤ä½¿ç”¨ OpenAI åµŒå…¥ï¼ˆ`text-embedding-3-small`ï¼‰è¿›è¡ŒçŸ¥è¯†å­˜å‚¨ï¼Œå³ä½¿ä½¿ç”¨ä¸åŒçš„ LLM æä¾›å•†ã€‚æ‚¨å¯ä»¥è½»æ¾è‡ªå®šä¹‰æ­¤è®¾ç½®ä»¥åŒ¹é…æ‚¨çš„è®¾ç½®ã€‚
</Info>

#### ç†è§£é»˜è®¤è¡Œä¸º
```python
from crewai import Agent, Crew, LLM
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource

# å½“ä½¿ç”¨ Claude ä½œä¸ºæ‚¨çš„ LLM æ—¶...
agent = Agent(
    role="ç ”ç©¶å‘˜",
    goal="ç ”ç©¶ä¸»é¢˜",
    backstory="ä¸“å®¶ç ”ç©¶å‘˜",
    llm=LLM(provider="anthropic", model="claude-3-sonnet")  # ä½¿ç”¨ Claude
)

# CrewAI é»˜è®¤ä»å°†ä½¿ç”¨ OpenAI åµŒå…¥è¿›è¡ŒçŸ¥è¯†
# è¿™ç¡®ä¿ä¸€è‡´æ€§ï¼Œä½†å¯èƒ½ä¸æ‚¨çš„ LLM æä¾›å•†åå¥½ä¸åŒ¹é…
knowledge_source = StringKnowledgeSource(content="ç ”ç©¶æ•°æ®...")

crew = Crew(
    agents=[agent],
    tasks=[...],
    knowledge_sources=[knowledge_source]
    # é»˜è®¤ï¼šå³ä½¿ä½¿ç”¨ Claude LLM ä¹Ÿä½¿ç”¨ OpenAI åµŒå…¥
)
```

#### è‡ªå®šä¹‰çŸ¥è¯†åµŒå…¥æä¾›å•†
```python
# é€‰é¡¹ 1ï¼šä½¿ç”¨ Voyage AIï¼ˆAnthropic ä¸º Claude ç”¨æˆ·æ¨èï¼‰
crew = Crew(
    agents=[agent],
    tasks=[...],
    knowledge_sources=[knowledge_source],
    embedder={
        "provider": "voyageai",  # Claude ç”¨æˆ·æ¨è
        "config": {
            "api_key": "your-voyage-api-key",
            "model": "voyage-3"  # æˆ– "voyage-3-large" ä»¥è·å¾—æœ€ä½³è´¨é‡
        }
    }
)

# é€‰é¡¹ 2ï¼šä½¿ç”¨æœ¬åœ°åµŒå…¥ï¼ˆæ— å¤–éƒ¨ API è°ƒç”¨ï¼‰
crew = Crew(
    agents=[agent],
    tasks=[...],
    knowledge_sources=[knowledge_source],
    embedder={
        "provider": "ollama",
        "config": {
            "model": "mxbai-embed-large",
            "url": "http://localhost:11434/api/embeddings"
        }
    }
)

# é€‰é¡¹ 3ï¼šä»£ç†çº§åˆ«åµŒå…¥è‡ªå®šä¹‰
agent = Agent(
    role="ç ”ç©¶å‘˜",
    goal="ç ”ç©¶ä¸»é¢˜",
    backstory="ä¸“å®¶ç ”ç©¶å‘˜",
    knowledge_sources=[knowledge_source],
    embedder={
        "provider": "google-generativeai",
        "config": {
            "model_name": "gemini-embedding-001",
            "api_key": "your-google-key"
        }
    }
)
```

#### é…ç½® Azure OpenAI åµŒå…¥

å½“ä½¿ç”¨ Azure OpenAI åµŒå…¥æ—¶ï¼š
1. ç¡®ä¿å…ˆåœ¨ Azure å¹³å°ä¸Šéƒ¨ç½²åµŒå…¥æ¨¡å‹
2. ç„¶åæ‚¨éœ€è¦ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š

```python
agent = Agent(
    role="ç ”ç©¶å‘˜",
    goal="ç ”ç©¶ä¸»é¢˜",
    backstory="ä¸“å®¶ç ”ç©¶å‘˜",
    knowledge_sources=[knowledge_source],
    embedder={
        "provider": "azure",
        "config": {
            "api_key": "your-azure-api-key",
            "model": "text-embedding-ada-002", # æ›´æ”¹ä¸ºæ‚¨æ­£åœ¨ä½¿ç”¨å¹¶åœ¨ Azure ä¸­éƒ¨ç½²çš„æ¨¡å‹
            "api_base": "https://your-azure-endpoint.openai.azure.com/",
            "api_version": "2024-02-01"
        }
    }
)
```

## é«˜çº§åŠŸèƒ½

### æŸ¥è¯¢é‡å†™

CrewAI å®ç°äº†æ™ºèƒ½æŸ¥è¯¢é‡å†™æœºåˆ¶ï¼Œä»¥ä¼˜åŒ–çŸ¥è¯†æ£€ç´¢ã€‚å½“ä»£ç†éœ€è¦æœç´¢çŸ¥è¯†æºæ—¶ï¼ŒåŸå§‹ä»»åŠ¡æç¤ºä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ›´æœ‰æ•ˆçš„æœç´¢æŸ¥è¯¢ã€‚

#### æŸ¥è¯¢é‡å†™å¦‚ä½•å·¥ä½œ

1. å½“ä»£ç†æ‰§è¡Œå…·æœ‰å¯ç”¨çŸ¥è¯†æºçš„ä»»åŠ¡æ—¶ï¼Œä¼šè§¦å‘ `_get_knowledge_search_query` æ–¹æ³•
2. ä»£ç†çš„ LLM ç”¨äºå°†åŸå§‹ä»»åŠ¡æç¤ºè½¬æ¢ä¸ºä¼˜åŒ–çš„æœç´¢æŸ¥è¯¢
3. ç„¶åä½¿ç”¨æ­¤ä¼˜åŒ–æŸ¥è¯¢ä»çŸ¥è¯†æºæ£€ç´¢ç›¸å…³ä¿¡æ¯

#### æŸ¥è¯¢é‡å†™çš„å¥½å¤„

<CardGroup cols={2}>
  <Card title="æ”¹è¿›æ£€ç´¢å‡†ç¡®æ€§" icon="bullseye-arrow">
    é€šè¿‡ä¸“æ³¨äºå…³é”®æ¦‚å¿µå¹¶ç§»é™¤æ— å…³å†…å®¹ï¼ŒæŸ¥è¯¢é‡å†™æœ‰åŠ©äºæ£€ç´¢æ›´ç›¸å…³çš„ä¿¡æ¯ã€‚
  </Card>
  <Card title="ä¸Šä¸‹æ–‡æ„ŸçŸ¥" icon="brain">
    é‡å†™æŸ¥è¯¢æ—¨åœ¨ä¸ºå‘é‡æ•°æ®åº“æ£€ç´¢æ›´åŠ å…·ä½“å’Œä¸Šä¸‹æ–‡æ„ŸçŸ¥ã€‚
  </Card>
</CardGroup>

#### ç¤ºä¾‹

```python
# åŸå§‹ä»»åŠ¡æç¤º
task_prompt = "å›ç­”ä»¥ä¸‹å…³äºç”¨æˆ·å–œçˆ±ç”µå½±çš„é—®é¢˜ï¼šJohn ä¸Šå‘¨çœ‹äº†ä»€ä¹ˆç”µå½±ï¼Ÿè¯·å°†æ‚¨çš„ç­”æ¡ˆæ ¼å¼åŒ–ä¸º JSONã€‚"

# åœ¨å¹•åï¼Œè¿™å¯èƒ½ä¼šè¢«é‡å†™ä¸ºï¼š
rewritten_query = "John ä¸Šå‘¨çœ‹äº†ä»€ä¹ˆç”µå½±ï¼Ÿ"
```

é‡å†™æŸ¥è¯¢æ›´ä¸“æ³¨äºæ ¸å¿ƒä¿¡æ¯éœ€æ±‚ï¼Œå¹¶ç§»é™¤äº†å…³äºè¾“å‡ºæ ¼å¼çš„æ— å…³æŒ‡ä»¤ã€‚

<Tip>
  æ­¤æœºåˆ¶æ˜¯å®Œå…¨è‡ªåŠ¨çš„ï¼Œä¸éœ€è¦ç”¨æˆ·é…ç½®ã€‚ä½¿ç”¨ä»£ç†çš„ LLM æ‰§è¡ŒæŸ¥è¯¢é‡å†™ï¼Œå› æ­¤ä½¿ç”¨æ›´å¼ºå¤§çš„ LLM å¯ä»¥æé«˜é‡å†™æŸ¥è¯¢çš„è´¨é‡ã€‚
</Tip>

### çŸ¥è¯†äº‹ä»¶

CrewAI åœ¨çŸ¥è¯†æ£€ç´¢è¿‡ç¨‹ä¸­å‘å‡ºäº‹ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨äº‹ä»¶ç³»ç»Ÿç›‘å¬è¿™äº›äº‹ä»¶ã€‚è¿™äº›äº‹ä»¶å…è®¸æ‚¨ç›‘æ§ã€è°ƒè¯•å’Œåˆ†æä»£ç†å¦‚ä½•æ£€ç´¢å’Œä½¿ç”¨çŸ¥è¯†ã€‚

#### å¯ç”¨çš„çŸ¥è¯†äº‹ä»¶

- **KnowledgeRetrievalStartedEvent**ï¼šå½“ä»£ç†å¼€å§‹ä»æºæ£€ç´¢çŸ¥è¯†æ—¶å‘å‡º
- **KnowledgeRetrievalCompletedEvent**ï¼šå½“çŸ¥è¯†æ£€ç´¢å®Œæˆæ—¶å‘å‡ºï¼ŒåŒ…æ‹¬ä½¿ç”¨çš„æŸ¥è¯¢å’Œæ£€ç´¢åˆ°çš„å†…å®¹
- **KnowledgeQueryStartedEvent**ï¼šå½“å¯¹çŸ¥è¯†æºçš„æŸ¥è¯¢å¼€å§‹æ—¶å‘å‡º
- **KnowledgeQueryCompletedEvent**ï¼šå½“æŸ¥è¯¢æˆåŠŸå®Œæˆæ—¶å‘å‡º
- **KnowledgeQueryFailedEvent**ï¼šå½“å¯¹çŸ¥è¯†æºçš„æŸ¥è¯¢å¤±è´¥æ—¶å‘å‡º
- **KnowledgeSearchQueryFailedEvent**ï¼šå½“æœç´¢æŸ¥è¯¢å¤±è´¥æ—¶å‘å‡º

#### ç¤ºä¾‹ï¼šç›‘æ§çŸ¥è¯†æ£€ç´¢

```python
from crewai.events import (
    KnowledgeRetrievalStartedEvent,
    KnowledgeRetrievalCompletedEvent,
    BaseEventListener,
)

class KnowledgeMonitorListener(BaseEventListener):
    def setup_listeners(self, crewai_event_bus):
        @crewai_event_bus.on(KnowledgeRetrievalStartedEvent)
        def on_knowledge_retrieval_started(source, event):
            print(f"ä»£ç† '{event.agent.role}' å¼€å§‹æ£€ç´¢çŸ¥è¯†")
            
        @crewai_event_bus.on(KnowledgeRetrievalCompletedEvent)
        def on_knowledge_retrieval_completed(source, event):
            print(f"ä»£ç† '{event.agent.role}' å®ŒæˆçŸ¥è¯†æ£€ç´¢")
            print(f"æŸ¥è¯¢ï¼š{event.query}")
            print(f"æ£€ç´¢åˆ° {len(event.retrieved_knowledge)} ä¸ªçŸ¥è¯†å—")

# åˆ›å»ºç›‘å¬å™¨å®ä¾‹
knowledge_monitor = KnowledgeMonitorListener()
```

æœ‰å…³ä½¿ç”¨äº‹ä»¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[äº‹ä»¶ç›‘å¬å™¨](/zh/concepts/event-listener)æ–‡æ¡£ã€‚

### è‡ªå®šä¹‰çŸ¥è¯†æº

CrewAI å…è®¸æ‚¨é€šè¿‡æ‰©å±• `BaseKnowledgeSource` ç±»ä¸ºä»»ä½•ç±»å‹çš„æ•°æ®åˆ›å»ºè‡ªå®šä¹‰çŸ¥è¯†æºã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè·å–å’Œå¤„ç†å¤ªç©ºæ–°é—»æ–‡ç« çš„å®é™…ç¤ºä¾‹ã€‚

#### å¤ªç©ºæ–°é—»çŸ¥è¯†æºç¤ºä¾‹

<CodeGroup>

```python Code
from crewai import Agent, Task, Crew, Process, LLM
from crewai.knowledge.source.base_knowledge_source import BaseKnowledgeSource
import requests
from datetime import datetime
from typing import Dict, Any
from pydantic import BaseModel, Field

class SpaceNewsKnowledgeSource(BaseKnowledgeSource):
    """ä»å¤ªç©ºæ–°é—» API è·å–æ•°æ®çš„çŸ¥è¯†æºã€‚"""

    api_endpoint: str = Field(description="API ç«¯ç‚¹ URL")
    limit: int = Field(default=10, description="è¦è·å–çš„æ–‡ç« æ•°é‡")

    def load_content(self) -> Dict[Any, str]:
        """è·å–å¹¶æ ¼å¼åŒ–å¤ªç©ºæ–°é—»æ–‡ç« ã€‚"""
        try:
            response = requests.get(
                f"{self.api_endpoint}?limit={self.limit}"
            )
            response.raise_for_status()

            data = response.json()
            articles = data.get('results', [])

            formatted_data = self.validate_content(articles)
            return {self.api_endpoint: formatted_data}
        except Exception as e:
            raise ValueError(f"è·å–å¤ªç©ºæ–°é—»å¤±è´¥ï¼š{str(e)}")

    def validate_content(self, articles: list) -> str:
        """å°†æ–‡ç« æ ¼å¼åŒ–ä¸ºå¯è¯»æ–‡æœ¬ã€‚"""
        formatted = "å¤ªç©ºæ–°é—»æ–‡ç« ï¼š\n\n"
        for article in articles:
            formatted += f"""
                æ ‡é¢˜ï¼š{article['title']}
                å‘å¸ƒæ—¶é—´ï¼š{article['published_at']}
                æ‘˜è¦ï¼š{article['summary']}
                æ–°é—»ç½‘ç«™ï¼š{article['news_site']}
                URLï¼š{article['url']}
                -------------------"""
        return formatted

    def add(self) -> None:
        """å¤„ç†å¹¶å­˜å‚¨æ–‡ç« ã€‚"""
        content = self.load_content()
        for _, text in content.items():
            chunks = self._chunk_text(text)
            self.chunks.extend(chunks)

        self._save_documents()

# åˆ›å»ºçŸ¥è¯†æº
recent_news = SpaceNewsKnowledgeSource(
    api_endpoint="https://api.spaceflightnewsapi.net/v4/articles",
    limit=10,
)

# åˆ›å»ºä¸“é—¨çš„ä»£ç†
space_analyst = Agent(
    role="å¤ªç©ºæ–°é—»åˆ†æå¸ˆ",
    goal="å‡†ç¡®å…¨é¢åœ°å›ç­”å…³äºå¤ªç©ºæ–°é—»çš„é—®é¢˜",
    backstory="""æ‚¨æ˜¯å…·æœ‰å¤ªç©ºæ¢ç´¢ã€å«æ˜ŸæŠ€æœ¯å’Œå¤ªç©ºè¡Œä¸šè¶‹åŠ¿ä¸“ä¸šçŸ¥è¯†çš„å¤ªç©ºè¡Œä¸šåˆ†æå¸ˆã€‚
    æ‚¨æ“…é•¿å›ç­”å…³äºå¤ªç©ºæ–°é—»çš„é—®é¢˜å¹¶æä¾›è¯¦ç»†ã€å‡†ç¡®çš„ä¿¡æ¯ã€‚""",
    knowledge_sources=[recent_news],
    llm=LLM(model="gpt-4", temperature=0.0)
)

# åˆ›å»ºå¤„ç†ç”¨æˆ·é—®é¢˜çš„ä»»åŠ¡
analysis_task = Task(
    description="å›ç­”è¿™ä¸ªå…³äºå¤ªç©ºæ–°é—»çš„é—®é¢˜ï¼š{user_question}",
    expected_output="åŸºäºæœ€è¿‘å¤ªç©ºæ–°é—»æ–‡ç« çš„è¯¦ç»†å›ç­”",
    agent=space_analyst
)

# åˆ›å»ºå¹¶è¿è¡Œå›¢é˜Ÿ
crew = Crew(
    agents=[space_analyst],
    tasks=[analysis_task],
    verbose=True,
    process=Process.sequential
)

# ç¤ºä¾‹ç”¨æ³•
result = crew.kickoff(
    inputs={"user_question": "å¤ªç©ºæ¢ç´¢çš„æœ€æ–°å‘å±•æ˜¯ä»€ä¹ˆï¼Ÿ"}
)
```

```output Output
# ä»£ç†ï¼šå¤ªç©ºæ–°é—»åˆ†æå¸ˆ
## ä»»åŠ¡ï¼šå›ç­”è¿™ä¸ªå…³äºå¤ªç©ºæ–°é—»çš„é—®é¢˜ï¼šå¤ªç©ºæ¢ç´¢çš„æœ€æ–°å‘å±•æ˜¯ä»€ä¹ˆï¼Ÿ


# ä»£ç†ï¼šå¤ªç©ºæ–°é—»åˆ†æå¸ˆ
## æœ€ç»ˆå›ç­”ï¼š
åŸºäºæœ€è¿‘çš„å¤ªç©ºæ–°é—»æ–‡ç« ï¼Œå¤ªç©ºæ¢ç´¢çš„æœ€æ–°å‘å±•åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š

1. SpaceX å·²è·å¾—æœ€ç»ˆç›‘ç®¡æ‰¹å‡†ï¼Œç»§ç»­è¿›è¡Œç¬¬äºŒæ¬¡é›†æˆ Starship/Super Heavy å‘å°„ï¼Œè®¡åˆ’æœ€æ—©åœ¨ 2023 å¹´ 11 æœˆ 17 æ—¥ä¸Šåˆè¿›è¡Œã€‚è¿™æ˜¯ SpaceX é›„å¿ƒå‹ƒå‹ƒçš„å¤ªç©ºæ¢ç´¢å’Œæ®–æ°‘è®¡åˆ’çš„é‡å¤§æ­¥éª¤ã€‚[æ¥æºï¼šSpaceNews](https://spacenews.com/starship-cleared-for-nov-17-launch/)

2. SpaceX è¿˜å‘ŠçŸ¥ç¾å›½è”é‚¦é€šä¿¡å§”å‘˜ä¼šï¼ˆFCCï¼‰ï¼Œå®ƒè®¡åˆ’å¼€å§‹å‘å°„å…¶ç¬¬ä¸€ä»£ä¸‹ä¸€ä»£ Starlink Gen2 å«æ˜Ÿã€‚è¿™ä»£è¡¨äº† Starlink å«æ˜Ÿäº’è”ç½‘æœåŠ¡çš„ä¸»è¦å‡çº§ï¼Œè¯¥æœåŠ¡æ—¨åœ¨æä¾›å…¨çƒé«˜é€Ÿäº’è”ç½‘æ¥å…¥ã€‚[æ¥æºï¼šTeslarati](https://www.teslarati.com/spacex-first-starlink-gen2-satellite-launch-2022/)

3. AI åˆåˆ›å…¬å¸ Synthetaic åœ¨ B è½®èèµ„ä¸­ç­¹é›†äº† 1500 ä¸‡ç¾å…ƒã€‚è¯¥å…¬å¸ä½¿ç”¨äººå·¥æ™ºèƒ½åˆ†ææ¥è‡ªå¤ªç©ºå’Œç©ºä¸­ä¼ æ„Ÿå™¨çš„æ•°æ®ï¼Œè¿™åœ¨å¤ªç©ºæ¢ç´¢å’Œå«æ˜ŸæŠ€æœ¯æ–¹é¢å¯èƒ½å…·æœ‰é‡è¦åº”ç”¨ã€‚[æ¥æºï¼šSpaceNews](https://spacenews.com/ai-startup-synthetaic-raises-15-million-in-series-b-funding/)

4. å¤ªç©ºå†›åœ¨ç¾å†›å°å¤ªå¸ä»¤éƒ¨æ­£å¼å»ºç«‹äº†ä¸€ä¸ªå•ä½ï¼Œæ ‡å¿—ç€åœ¨å°å¤ªåœ°åŒºçš„æ°¸ä¹…å­˜åœ¨ã€‚è¿™å¯èƒ½å¯¹å¤ªç©ºå®‰å…¨å’Œåœ°ç¼˜æ”¿æ²»å…·æœ‰é‡è¦å½±å“ã€‚[æ¥æºï¼šSpaceNews](https://spacenews.com/space-force-establishes-permanent-presence-in-indo-pacific-region/)

5. Slingshot Aerospaceï¼Œä¸€å®¶å¤ªç©ºè·Ÿè¸ªå’Œæ•°æ®åˆ†æå…¬å¸ï¼Œæ­£åœ¨æ‰©å±•å…¶åœ°åŸºå…‰å­¦æœ›è¿œé•œç½‘ç»œï¼Œä»¥å¢åŠ è¿‘åœ°è½¨é“çš„è¦†ç›–èŒƒå›´ã€‚è¿™å¯ä»¥æé«˜æˆ‘ä»¬è·Ÿè¸ªå’Œåˆ†æè¿‘åœ°è½¨é“ç‰©ä½“ï¼ˆåŒ…æ‹¬å«æ˜Ÿå’Œå¤ªç©ºç¢ç‰‡ï¼‰çš„èƒ½åŠ›ã€‚[æ¥æºï¼šSpaceNews](https://spacenews.com/slingshots-space-tracking-network-to-extend-coverage-of-low-earth-orbit/)

6. ä¸­å›½å›½å®¶è‡ªç„¶ç§‘å­¦åŸºé‡‘å§”å‘˜ä¼šæ¦‚è¿°äº†ä¸€ä¸ªä¸ºæœŸäº”å¹´çš„é¡¹ç›®ï¼Œä¾›ç ”ç©¶äººå‘˜ç ”ç©¶è¶…å¤§å‹èˆªå¤©å™¨çš„ç»„è£…ã€‚è¿™å¯èƒ½å¯¼è‡´èˆªå¤©å™¨æŠ€æœ¯å’Œå¤ªç©ºæ¢ç´¢èƒ½åŠ›çš„é‡å¤§è¿›æ­¥ã€‚[æ¥æºï¼šSpaceNews](https://spacenews.com/china-researching-challenges-of-kilometer-scale-ultra-large-spacecraft/)

7. ä½äºæ–¯å¦ç¦å¤§å­¦çš„èˆªå¤©è‡ªä¸»ç ”ç©¶ä¸­å¿ƒï¼ˆCAESARï¼‰ä¸“æ³¨äºèˆªå¤©å™¨è‡ªä¸»æ€§ã€‚è¯¥ä¸­å¿ƒäº 2024 å¹´ 5 æœˆ 22 æ—¥ä¸¾è¡Œäº†å¯åŠ¨æ´»åŠ¨ï¼Œçªå‡ºäº†å®ƒå¯»æ±‚ä¿ƒè¿›çš„è¡Œä¸šã€å­¦æœ¯ç•Œå’Œæ”¿åºœåˆä½œã€‚è¿™å¯èƒ½å¯¼è‡´è‡ªä¸»èˆªå¤©å™¨æŠ€æœ¯çš„é‡å¤§è¿›æ­¥ã€‚[æ¥æºï¼šSpaceNews](https://spacenews.com/stanford-center-focuses-on-spacecraft-autonomy/)
```

</CodeGroup>

## è°ƒè¯•å’Œæ•…éšœæ’é™¤

### è°ƒè¯•çŸ¥è¯†é—®é¢˜

#### æ£€æŸ¥ä»£ç†çŸ¥è¯†åˆå§‹åŒ–
```python
from crewai import Agent, Crew, Task
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource

knowledge_source = StringKnowledgeSource(content="æµ‹è¯•çŸ¥è¯†")

agent = Agent(
    role="æµ‹è¯•ä»£ç†",
    goal="æµ‹è¯•çŸ¥è¯†",
    backstory="æµ‹è¯•ä¸­",
    knowledge_sources=[knowledge_source]
)

crew = Crew(agents=[agent], tasks=[Task(...)])

# å¯åŠ¨å‰ - çŸ¥è¯†æœªåˆå§‹åŒ–
print(f"å¯åŠ¨å‰ - ä»£ç†çŸ¥è¯†ï¼š{getattr(agent, 'knowledge', None)}")

crew.kickoff()

# å¯åŠ¨å - çŸ¥è¯†å·²åˆå§‹åŒ–
print(f"å¯åŠ¨å - ä»£ç†çŸ¥è¯†ï¼š{agent.knowledge}")
print(f"ä»£ç†çŸ¥è¯†é›†åˆï¼š{agent.knowledge.storage.collection_name}")
print(f"æºæ•°é‡ï¼š{len(agent.knowledge.sources)}")
```

#### éªŒè¯çŸ¥è¯†å­˜å‚¨ä½ç½®
```python
import os
from crewai.utilities.paths import db_storage_path

# æ£€æŸ¥å­˜å‚¨ç»“æ„
storage_path = db_storage_path()
knowledge_path = os.path.join(storage_path, "knowledge")

if os.path.exists(knowledge_path):
    print("æ‰¾åˆ°çŸ¥è¯†é›†åˆï¼š")
    for collection in os.listdir(knowledge_path):
        collection_path = os.path.join(knowledge_path, collection)
        if os.path.isdir(collection_path):
            print(f"  - {collection}/")
            # æ˜¾ç¤ºé›†åˆå†…å®¹
            for item in os.listdir(collection_path):
                print(f"    â””â”€â”€ {item}")
```

#### æµ‹è¯•çŸ¥è¯†æ£€ç´¢
```python
# æµ‹è¯•ä»£ç†çŸ¥è¯†æ£€ç´¢
if hasattr(agent, 'knowledge') and agent.knowledge:
    test_query = ["æµ‹è¯•æŸ¥è¯¢"]
    results = agent.knowledge.query(test_query)
    print(f"ä»£ç†çŸ¥è¯†ç»“æœï¼šæ‰¾åˆ° {len(results)} ä¸ªæ–‡æ¡£")
    
    # æµ‹è¯•å›¢é˜ŸçŸ¥è¯†æ£€ç´¢ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
    if hasattr(crew, 'knowledge') and crew.knowledge:
        crew_results = crew.query_knowledge(test_query)
        print(f"å›¢é˜ŸçŸ¥è¯†ç»“æœï¼šæ‰¾åˆ° {len(crew_results)} ä¸ªæ–‡æ¡£")
```

#### æ£€æŸ¥çŸ¥è¯†é›†åˆ
```python
import chromadb
from crewai.utilities.paths import db_storage_path
import os

# è¿æ¥åˆ° CrewAI çš„çŸ¥è¯† ChromaDB
knowledge_path = os.path.join(db_storage_path(), "knowledge")

if os.path.exists(knowledge_path):
    client = chromadb.PersistentClient(path=knowledge_path)
    collections = client.list_collections()
    
    print("çŸ¥è¯†é›†åˆï¼š")
    for collection in collections:
        print(f"  - {collection.name}ï¼š{collection.count()} ä¸ªæ–‡æ¡£")
        
        # æŠ½æ ·å‡ ä¸ªæ–‡æ¡£ä»¥éªŒè¯å†…å®¹
        if collection.count() > 0:
            sample = collection.peek(limit=2)
            print(f"    ç¤ºä¾‹å†…å®¹ï¼š{sample['documents'][0][:100]}...")
else:
    print("æœªæ‰¾åˆ°çŸ¥è¯†å­˜å‚¨")
```

#### æ£€æŸ¥çŸ¥è¯†å¤„ç†
```python
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource

# åˆ›å»ºæµ‹è¯•çŸ¥è¯†æº
test_source = StringKnowledgeSource(
    content="ç”¨äºè°ƒè¯•çš„æµ‹è¯•çŸ¥è¯†å†…å®¹",
    chunk_size=100,  # å°å—ç”¨äºæµ‹è¯•
    chunk_overlap=20
)

# æ£€æŸ¥åˆ†å—è¡Œä¸º
print(f"åŸå§‹å†…å®¹é•¿åº¦ï¼š{len(test_source.content)}")
print(f"å—å¤§å°ï¼š{test_source.chunk_size}")
print(f"å—é‡å ï¼š{test_source.chunk_overlap}")

# å¤„ç†å¹¶æ£€æŸ¥å—
test_source.add()
print(f"åˆ›å»ºçš„å—æ•°é‡ï¼š{len(test_source.chunks)}")
for i, chunk in enumerate(test_source.chunks[:3]):  # æ˜¾ç¤ºå‰ 3 å—
    print(f"å— {i+1}ï¼š{chunk[:50]}...")
```

### å¸¸è§çŸ¥è¯†å­˜å‚¨é—®é¢˜

**"æ–‡ä»¶æœªæ‰¾åˆ°"é”™è¯¯ï¼š**
```python
# ç¡®ä¿æ–‡ä»¶ä½äºæ­£ç¡®ä½ç½®
from crewai.utilities.constants import KNOWLEDGE_DIRECTORY
import os

knowledge_dir = KNOWLEDGE_DIRECTORY  # é€šå¸¸æ˜¯ "knowledge"
file_path = os.path.join(knowledge_dir, "your_file.pdf")

if not os.path.exists(file_path):
    print(f"æ–‡ä»¶æœªæ‰¾åˆ°ï¼š{file_path}")
    print(f"å½“å‰å·¥ä½œç›®å½•ï¼š{os.getcwd()}")
    print(f"é¢„æœŸçŸ¥è¯†ç›®å½•ï¼š{os.path.abspath(knowledge_dir)}")
```

**"åµŒå…¥ç»´åº¦ä¸åŒ¹é…"é”™è¯¯ï¼š**
```python
# è¿™åœ¨åˆ‡æ¢åµŒå…¥æä¾›å•†æ—¶ä¼šå‘ç”Ÿ
# é‡ç½®çŸ¥è¯†å­˜å‚¨ä»¥æ¸…é™¤æ—§åµŒå…¥
crew.reset_memories(command_type='knowledge')

# æˆ–ä½¿ç”¨ä¸€è‡´çš„åµŒå…¥æä¾›å•†
crew = Crew(
    agents=[...],
    tasks=[...],
    knowledge_sources=[...],
    embedder={"provider": "openai", "config": {"model": "text-embedding-3-small"}}
)
```

**"ChromaDB æƒé™è¢«æ‹’ç»"é”™è¯¯ï¼š**
```bash
# ä¿®å¤å­˜å‚¨æƒé™
chmod -R 755 ~/.local/share/CrewAI/
```

**çŸ¥è¯†åœ¨è¿è¡Œé—´ä¸æŒä¹…ï¼š**
```python
# éªŒè¯å­˜å‚¨ä½ç½®ä¸€è‡´æ€§
import os
from crewai.utilities.paths import db_storage_path

print("CREWAI_STORAGE_DIRï¼š", os.getenv("CREWAI_STORAGE_DIR"))
print("è®¡ç®—çš„å­˜å‚¨è·¯å¾„ï¼š", db_storage_path())
print("çŸ¥è¯†è·¯å¾„ï¼š", os.path.join(db_storage_path(), "knowledge"))
```

### çŸ¥è¯†é‡ç½®å‘½ä»¤

```python
# ä»…é‡ç½®ä»£ç†ç‰¹å®šçŸ¥è¯†
crew.reset_memories(command_type='agent_knowledge')

# é‡ç½®å›¢é˜Ÿå’Œä»£ç†çŸ¥è¯†  
crew.reset_memories(command_type='knowledge')

# CLI å‘½ä»¤
# crewai reset-memories --agent-knowledge  # ä»…ä»£ç†çŸ¥è¯†
# crewai reset-memories --knowledge        # æ‰€æœ‰çŸ¥è¯†
```

### æ¸…é™¤çŸ¥è¯†

å¦‚æœæ‚¨éœ€è¦æ¸…é™¤ CrewAI ä¸­å­˜å‚¨çš„çŸ¥è¯†ï¼Œå¯ä»¥ä½¿ç”¨å¸¦æœ‰ `--knowledge` é€‰é¡¹çš„ `crewai reset-memories` å‘½ä»¤ã€‚

```bash Command
crewai reset-memories --knowledge
```

å½“æ‚¨æ›´æ–°äº†çŸ¥è¯†æºå¹¶å¸Œæœ›ç¡®ä¿ä»£ç†ä½¿ç”¨æœ€æ–°ä¿¡æ¯æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚

## æœ€ä½³å®è·µ

<AccordionGroup>
  <Accordion title="å†…å®¹ç»„ç»‡">
    - ä¿æŒé€‚åˆæ‚¨å†…å®¹ç±»å‹çš„å—å¤§å°
    - è€ƒè™‘å†…å®¹é‡å ä»¥ä¿æŒä¸Šä¸‹æ–‡
    - å°†ç›¸å…³ä¿¡æ¯ç»„ç»‡åˆ°å•ç‹¬çš„çŸ¥è¯†æºä¸­
  </Accordion>

  <Accordion title="æ€§èƒ½æç¤º">
    - æ ¹æ®å†…å®¹å¤æ‚æ€§è°ƒæ•´å—å¤§å° 
    - é…ç½®é€‚å½“çš„åµŒå…¥æ¨¡å‹
    - è€ƒè™‘ä½¿ç”¨æœ¬åœ°åµŒå…¥æä¾›å•†ä»¥åŠ å¿«å¤„ç†é€Ÿåº¦
  </Accordion>

  <Accordion title="ä¸€æ¬¡æ€§çŸ¥è¯†">
    - ä½¿ç”¨ CrewAI æä¾›çš„å…¸å‹æ–‡ä»¶ç»“æ„ï¼ŒçŸ¥è¯†æºåœ¨æ¯æ¬¡è§¦å‘å¯åŠ¨æ—¶éƒ½ä¼šè¢«åµŒå…¥ã€‚
    - å¦‚æœçŸ¥è¯†æºå¾ˆå¤§ï¼Œè¿™ä¼šå¯¼è‡´ä½æ•ˆå’Œå¢åŠ å»¶è¿Ÿï¼Œå› ä¸ºæ¯æ¬¡éƒ½ä¼šåµŒå…¥ç›¸åŒçš„æ•°æ®ã€‚
    - è¦è§£å†³æ­¤é—®é¢˜ï¼Œç›´æ¥åˆå§‹åŒ– knowledge å‚æ•°è€Œä¸æ˜¯ knowledge_sources å‚æ•°ã€‚
    - é“¾æ¥åˆ°é—®é¢˜ä»¥è·å–å®Œæ•´æƒ³æ³• [Github Issue](https://github.com/crewAIInc/crewAI/issues/2755)
  </Accordion>

  <Accordion title="çŸ¥è¯†ç®¡ç†">
    - åœ¨ä»£ç†çº§åˆ«ä½¿ç”¨è§’è‰²ç‰¹å®šä¿¡æ¯
    - åœ¨å›¢é˜Ÿçº§åˆ«ä½¿ç”¨æ‰€æœ‰ä»£ç†éœ€è¦çš„å…±äº«ä¿¡æ¯
    - å¦‚æœéœ€è¦ä¸åŒçš„åµŒå…¥ç­–ç•¥ï¼Œè¯·åœ¨ä»£ç†çº§åˆ«è®¾ç½®åµŒå…¥å™¨
    - é€šè¿‡ä¿æŒä»£ç†è§’è‰²æè¿°æ€§æ¥ä½¿ç”¨ä¸€è‡´çš„é›†åˆå‘½å
    - é€šè¿‡åœ¨å¯åŠ¨åæ£€æŸ¥ agent.knowledge æ¥æµ‹è¯•çŸ¥è¯†åˆå§‹åŒ–
    - ç›‘æ§å­˜å‚¨ä½ç½®ä»¥äº†è§£çŸ¥è¯†å­˜å‚¨ä½ç½®
    - ä½¿ç”¨æ­£ç¡®çš„å‘½ä»¤ç±»å‹é€‚å½“åœ°é‡ç½®çŸ¥è¯†
  </Accordion>

  <Accordion title="ç”Ÿäº§æœ€ä½³å®è·µ">
    - åœ¨ç”Ÿäº§ä¸­è®¾ç½® `CREWAI_STORAGE_DIR` åˆ°å·²çŸ¥ä½ç½®
    - é€‰æ‹©æ˜ç¡®çš„åµŒå…¥æä¾›å•†ä»¥åŒ¹é…æ‚¨çš„ LLM è®¾ç½®å¹¶é¿å… API å¯†é’¥å†²çª
    - éšç€æ–‡æ¡£æ·»åŠ ç›‘æ§çŸ¥è¯†å­˜å‚¨å¤§å°
    - ä½¿ç”¨é›†åˆåç§°æŒ‰åŸŸæˆ–ç›®çš„ç»„ç»‡çŸ¥è¯†æº
    - åœ¨å¤‡ä»½å’Œéƒ¨ç½²ç­–ç•¥ä¸­åŒ…æ‹¬çŸ¥è¯†ç›®å½•
    - ä¸ºçŸ¥è¯†æ–‡ä»¶å’Œå­˜å‚¨ç›®å½•è®¾ç½®é€‚å½“çš„æ–‡ä»¶æƒé™
    - å¯¹ API å¯†é’¥å’Œæ•æ„Ÿé…ç½®ä½¿ç”¨ç¯å¢ƒå˜é‡
  </Accordion>
</AccordionGroup>