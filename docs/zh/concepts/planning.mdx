---
title: 规划
description: 学习如何为您的 CrewAI 团队添加规划并改进其性能。
icon: ruler-combined
mode: "wide"
---

## 概述

CrewAI 中的规划功能允许您为团队添加规划能力。启用后，在每次团队迭代之前，所有团队信息将发送给 AgentPlanner，该规划器将逐步规划任务，此计划将添加到每个任务描述中。

### 使用规划功能

开始使用规划功能非常简单，只需在您的团队中添加 `planning=True`：

<CodeGroup>
```python Code
from crewai import Crew, Agent, Task, Process

# 使用规划能力组装您的团队
my_crew = Crew(
    agents=self.agents,
    tasks=self.tasks,
    process=Process.sequential,
    planning=True,
)
```
</CodeGroup>

从现在开始，您的团队将启用规划，任务将在每次迭代前进行规划。

<Warning>
当启用规划时，crewAI 将使用 `gpt-4o-mini` 作为规划的默认 LLM，这需要有效的 OpenAI API 密钥。由于您的代理可能使用不同的 LLM，如果您没有配置 OpenAI API 密钥或遇到与 LLM API 调用相关的意外行为，这可能会引起混淆。
</Warning>

#### 规划 LLM

现在您可以定义将用于规划任务的 LLM。

当运行基础案例示例时，您将看到类似下面的输出，这代表负责为代理任务创建逐步逻辑的 `AgentPlanner` 的输出。

<CodeGroup>
```python Code
from crewai import Crew, Agent, Task, Process

# 使用规划能力和自定义 LLM 组装您的团队
my_crew = Crew(
    agents=self.agents,
    tasks=self.tasks,
    process=Process.sequential,
    planning=True,
    planning_llm="gpt-4o"
)

# 运行团队
my_crew.kickoff()
```

```markdown Result
[2024-07-15 16:49:11][INFO]: 正在规划团队执行
**任务执行的逐步计划**

**任务编号 1：对 AI LLM 进行彻底研究**

**代理：** AI LLM 高级数据研究员

**代理目标：** 揭示 AI LLM 的前沿发展

**任务预期输出：** 关于 AI LLM 最相关信息的 10 个要点列表

**任务工具：** 未指定

**代理工具：** 未指定

**逐步计划：**

1. **定义研究范围：**
   - 确定要关注的 AI LLM 特定领域，如架构进展、使用案例、伦理考虑和性能指标。

2. **识别可靠来源：**
   - 列出 AI 研究的可靠来源，包括学术期刊、行业报告、会议（例如，NeurIPS、ACL）、AI 研究实验室（例如，OpenAI、Google AI）和在线数据库（例如，IEEE Xplore、arXiv）。

3. **收集数据：**
   - 搜索 2024 年和 2025 年初发布的最新论文、文章和报告。
   - 使用关键词如"大语言模型 2025"、"AI LLM 进展"、"AI 伦理 2025"等。

4. **分析发现：**
   - 阅读并总结每个来源的关键点。
   - 突出过去一年中引入的新技术、模型和应用。

5. **组织信息：**
   - 将信息分类到相关主题中（例如，新架构、伦理含义、实际应用）。
   - 确保每个要点简洁但信息丰富。

6. **创建列表：**
   - 将 10 条最相关信息编译成要点列表。
   - 检查列表以确保清晰度和相关性。

**预期输出：**

包含关于 AI LLM 最相关信息的 10 个要点列表。

---

**任务编号 2：审查您获得的上下文并将每个主题扩展为报告的完整部分**

**代理：** AI LLM 报告分析师

**代理目标：** 基于 AI LLM 数据分析和研究发现创建详细报告

**任务预期输出：** 具有主要主题的完整报告，每个主题都有完整的信息部分。格式化为 markdown，不使用 '```'

**任务工具：** 未指定

**代理工具：** 未指定

**逐步计划：**

1. **审查要点：**
   - 仔细阅读 AI LLM 高级数据研究员提供的 10 个要点列表。

2. **概述报告：**
   - 将每个要点作为主要部分标题创建大纲。
   - 计划每个主要标题下的子部分以涵盖主题的不同方面。

3. **进一步研究细节：**
   - 对于每个要点，必要时进行额外研究以收集更多详细信息。
   - 寻找案例研究、示例和统计数据以支持每个部分。

4. **撰写详细部分：**
   - 将每个要点扩展为综合部分。
   - 确保每个部分包括介绍、详细解释、示例和结论。
   - 使用 markdown 格式处理标题、子标题、列表和强调。

5. **审查和编辑：**
   - 审查报告的清晰度、连贯性和正确性。
   - 确保报告从一个部分到下一个部分逻辑流畅。
   - 根据 markdown 标准格式化报告。

6. **最终确定报告：**
   - 确保报告完成，所有部分都已扩展和详细。
   - 双重检查格式化并根据需要进行任何调整。

**预期输出：**

具有主要主题的完整报告，每个主题都有完整的信息部分。格式化为 markdown，不使用 '```'。
```
</CodeGroup>